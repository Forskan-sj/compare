var egret = window.egret;var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},__awaiter=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{p(i.next(t))}catch(e){o(e)}}function s(t){try{p(i["throw"](t))}catch(e){o(e)}}function p(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}p((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;p;)try{if(r=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return p.label++,{value:n[1],done:!1};case 5:p.label++,o=n[1],n=[0];continue;case 7:n=p.ops.pop(),p.trys.pop();continue;default:if(a=p.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){p=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){p.label=n[1];break}if(6===n[0]&&p.label<a[1]){p.label=a[1],a=n;break}if(a&&p.label<a[2]){p.label=a[2],p.ops.push(n);break}a[2]&&p.ops.pop(),p.trys.pop();continue}n=e.call(t,p)}catch(i){n=[6,i],o=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,a,s,p={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},ant_grp;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.horizontalCenter=0,e.skinName="AntGrpViewSubAddViewSkin",e.addEventListener(egret.Event.ADDED_TO_STAGE,e.enable,e),e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.init(),this.addEvent()},e.prototype.enable=function(){},e.prototype.destroy=function(){this.removeEvent(),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.enable,this),this.parent&&this.parent.removeChild(this)},e}(eui.Component);t.AntGrpViewSubView=e,__reflect(e.prototype,"ant_grp.AntGrpViewSubView")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.className_key="AntGrpNoticeEditView",t.skinName="AntGrpNoticeEditViewSkin",t}return __extends(n,e),n.prototype.enable=function(){e.prototype.enable.call(this),e.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.init=function(){var t=this;this.textDocText.addEventListener(egret.Event.CHANGE,function(){t.textNum.text=t.textDocText.text.length+"/50"},this),this.initShow()},n.prototype.initShow=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(n){return e=this,t.AntGrpDatas.getIntance().antGrpMineInfos.group&&t.AntGrpDatas.getIntance().antGrpMineInfos.group.notice?(e.textDocText.text=t.AntGrpDatas.getIntance().antGrpMineInfos.group.notice+"",e.textNum.text=e.textDocText.text.length+"/50"):e.textDocText.text="",[2]})})},n.prototype.addEvent=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.sendBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){switch(e.target){case this.closeBtn:this.removeUsFromParent();break;case this.sendBtn:var n=this.textDocText.text.trim();t.AntGrpRequestMgr.getIntance().AntGroup_editGroupNotice_C(n),this.removeUsFromParent()}},n.prototype.removeEvent=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.sendBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(baseContent.BasePanel);t.AntGrpNoticeEditView=e,__reflect(e.prototype,"ant_grp.AntGrpNoticeEditView",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.MiwuZheDangEvent="MiwuZheDangEvent",e.CloseShowChaoPing="CloseShowChaoPing",e.CloseShowMainViewExitTopGrp="CloseShowMainViewExitTopGrp",e.refreshUserInfo="refreshUserInfo",e.beJbEvent="beJbEvent",e.openSomePanelKey="openSomePanelKey",e}(egret.Event);t.AntGrpEvent=e,__reflect(e.prototype,"ant_grp.AntGrpEvent")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(){function t(){}return t.getIntance=function(){return t.instance_||(t.instance_=new t),t.instance_},t.prototype.initServer=function(e){t.getIntance().server=e},t.prototype.sendMsg=function(e,n){void 0===n&&(n=null),t.getIntance().server.sendMsg(e,n)},t.prototype.AntGroup_mineGroup_C=function(){t.getIntance().sendMsg("AntGroup_mineGroup_C")},t.prototype.AntGroup_getGroupList_C=function(){t.getIntance().sendMsg("AntGroup_getGroupList_C")},t.prototype.AntGroup_createGroup_C=function(e){t.getIntance().sendMsg("AntGroup_createGroup_C",e)},t.prototype.AntGroup_searchGroup_C=function(e){t.getIntance().sendMsg("AntGroup_searchGroup_C",{group_id:e})},t.prototype.AntGroup_applyGroup_C=function(e,n){t.getIntance().sendMsg("AntGroup_applyGroup_C",{group_id:e,message:n})},t.prototype.AntGroup_enterGroup_C=function(e){t.getIntance().sendMsg("AntGroup_enterGroup_C",{group_id:e})},t.prototype.AntGroup_getApplyList_C=function(){t.getIntance().sendMsg("AntGroup_getApplyList_C")},t.prototype.AntGroup_quitGroup_C=function(){t.getIntance().sendMsg("AntGroup_quitGroup_C")},t.prototype.AntGroup_doApply_C=function(e,n){t.getIntance().sendMsg("AntGroup_doApply_C",{apply_id:e,statu:n})},t.prototype.AntGroup_groupMember_C=function(){t.getIntance().sendMsg("AntGroup_groupMember_C")},t.prototype.AntGroup_dailyTask_C=function(){t.getIntance().sendMsg("AntGroup_dailyTask_C")},t.prototype.AntGroup_getTaskAward_C=function(e){t.getIntance().sendMsg("AntGroup_getTaskAward_C",{task_id:e})},t.prototype.AntGroup_sendGroupMessage_C=function(e){t.getIntance().sendMsg("AntGroup_sendGroupMessage_C",{message:e})},t.prototype.AntGroup_dailyBenefits_C=function(){t.getIntance().sendMsg("AntGroup_dailyBenefits_C")},t.prototype.AntGroup_signIn_C=function(){t.getIntance().sendMsg("AntGroup_signIn_C")},t.prototype.AntGroup_chuqin_C=function(e){t.getIntance().sendMsg("AntGroup_chuqin_C",{id:e})},t.prototype.AntGroup_shopList_C=function(){t.getIntance().sendMsg("AntGroup_shopList_C")},t.prototype.AntGroup_buy_C=function(e,n){void 0===n&&(n=1),t.getIntance().sendMsg("AntGroup_buy_C",{id:e,num:n})},t.prototype.AntGroup_editGroupNotice_C=function(e){t.getIntance().sendMsg("AntGroup_editGroupNotice_C",{notice:e})},t.prototype.AntGroup_editGroupName_C=function(e){t.getIntance().sendMsg("AntGroup_editGroupName_C",{group_name:e})},t.prototype.AntGroup_editGroup_C=function(e){t.getIntance().sendMsg("AntGroup_editGroup_C",e)},t.prototype.AntGroup_changeJob_C=function(e,n){t.getIntance().sendMsg("AntGroup_changeJob_C",{uid:e,job:n})},t.prototype.Chat_sendWorldMsg_C=function(e,n){void 0===n&&(n="antgroup_employ");var i={type:n,message:e};t.getIntance().sendMsg("Chat_sendWorldMsg_C",i)},t.prototype.User_visitUser_C=function(e){t.getIntance().sendMsg("User_visitUser_C",{uid:e})},t.prototype.User_addFriend_C=function(e,n){var i={by_user_id:e,applyInfo:n};t.getIntance().sendMsg("User_addFriend_C",i)},t.prototype.Chat_reportingUser_C=function(e){var n={report_id:e};t.getIntance().sendMsg("Chat_reportingUser_C",n)},t.prototype.AntGroup_buyAntMedal_C=function(e){var n={num:e};t.getIntance().sendMsg("AntGroup_buyAntMedal_C",n)},t.prototype.AntGroup_chatMsgSee_C=function(){t.getIntance().sendMsg("AntGroup_chatMsgSee_C")},t.prototype.AntGroup_fire_C=function(e){t.getIntance().sendMsg("AntGroup_fire_C",{uid:e})},t}();t.AntGrpRequestMgr=e,__reflect(e.prototype,"ant_grp.AntGrpRequestMgr")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(){function e(){}return e.getIntance=function(){return e.instance_||(e.instance_=new e),e.instance_},e.prototype.AntGroup_mineGroup_S=function(e){if(200==e.code){t.AntGrpDatas.getIntance().antGrpMineInfos=e.data;var n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView");n&&n.parent&&n.initShow()}},e.prototype.AntGroup_getGroupList_S=function(e){if(200==e.code){t.AntGrpDatas.getIntance().group_list=e.data.group_list;var n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView");n&&n.parent&&n.SubViewArr[0].initShow(null)}},e.prototype.AntGroup_createGroup_S=function(e){return 200==e.code?(t.AntGrpDatas.getIntance().tipsUtil.showTip("创建成功！"),t.AntGrpDatas.getIntance().gameDataInstance.user_info=e.data.user_info,baseContent.SceneLayerMgr.getIntance().getCurrenScene().initShow(),void t.AntGrpRequestMgr.getIntance().AntGroup_mineGroup_C()):void t.AntGrpDatas.getIntance().tipsUtil.showTip(e.info)},e.prototype.AntGroup_searchGroup_S=function(e){if(200==e.code){var n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView");return void(n&&n.parent&&n.SubViewArr[2].initShow([e.data.group]))}t.AntGrpDatas.getIntance().tipsUtil.showTip(e.info)},e.prototype.AntGroup_applyGroup_S=function(e){return 200==e.code?void t.AntGrpDatas.getIntance().tipsUtil.showTip("申请成功！"):void t.AntGrpDatas.getIntance().tipsUtil.showTip(e.info)},e.prototype.AntGroup_enterGroup_S=function(e){return 200==e.code?(t.AntGrpDatas.getIntance().tipsUtil.showTip("加入成功！"),void t.AntGrpRequestMgr.getIntance().AntGroup_mineGroup_C()):void t.AntGrpDatas.getIntance().tipsUtil.showTip(e.info)},e.prototype.AntGroup_getApplyList_S=function(e){if(200==e.code){t.AntGrpDatas.getIntance().grpAddMsgLists=e.data.apply_list;var n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpAddGrpMsgView");return void(n&&n.parent?n.initShow():baseContent.PanelManager.getIntance().openTypeIntance(t.AntGrpAddGrpMsgView))}t.AntGrpDatas.getIntance().tipsUtil.showTip(e.info)},e.prototype.AntGroup_quitGroup_S=function(e){if(200==e.code){var n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView");return n&&n.parent&&(n.ConfigType="unOpen"),t.AntGrpDatas.getIntance().antGrpMineInfos.group=null,t.AntGrpDatas.getIntance().antGrpMineInfos.mine=null,t.AntGrpDatas.getIntance().antGrpMineInfos.chat_list=null,void baseContent.PanelManager.getIntance().removeSomeOnePanel("AntGrpGroupMemberView")}t.AntGrpDatas.getIntance().tipsUtil.showTip(e.info)},e.prototype.AntGroup_doApply_S=function(e){200==e.code&&(t.AntGrpRequestMgr.getIntance().AntGroup_getApplyList_C(),t.AntGrpRequestMgr.getIntance().AntGroup_mineGroup_C()),t.AntGrpDatas.getIntance().tipsUtil.showTip(e.info)},e.prototype.AntGroup_groupMember_S=function(e){if(200==e.code){t.AntGrpDatas.getIntance().goupMemberListInfo=e.data;var n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpGroupMemberView");n&&n.parent?n.initShow():baseContent.PanelManager.getIntance().openTypeIntance(t.AntGrpGroupMemberView)}},e.prototype.AntGroup_dailyTask_S=function(e){if(200==e.code){t.AntGrpDatas.getIntance().dailyInfo=e.data;var n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView");n&&n.parent&&n.SubViewArr[2].initShow()}},e.prototype.AntGroup_getTaskAward_S=function(e){if(200==e.code){t.AntGrpRequestMgr.getIntance().AntGroup_dailyTask_C(),t.AntGrpDatas.getIntance().gameDataInstance.giftShowSomeData(e.data.appenddix),e.data.user_info&&(t.AntGrpDatas.getIntance().gameDataInstance.user_info=e.data.user_info,baseContent.SceneLayerMgr.getIntance().getCurrenScene().initShow()),e.data.mine&&(t.AntGrpDatas.getIntance().antGrpMineInfos.mine=e.data.mine);var n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView");n&&n.parent&&(n.SubViewArr[2].initShow(),n.SubViewArr[1].initShow())}viewTool.TipsUtil.getIntance().showTip(""+e.info)},e.prototype.AntGroup_sendGroupMessage_S=function(t){200==t.code},e.prototype.AntGroup_dailyBenefits_S=function(e){if(200==e.code){t.AntGrpDatas.getIntance().mrflInfo=e.data;var n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpDailyBenefitsView");if(n&&n.parent)return void n.initShow();baseContent.PanelManager.getIntance().openTypeIntance(t.AntGrpDailyBenefitsView)}},e.prototype.AntGroup_signIn_S=function(e){if(200==e.code){if(e.data.mine){t.AntGrpDatas.getIntance().antGrpMineInfos.mine=e.data.mine;var n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView");n&&n.parent&&n.SubViewArr[1].initShow(),t.AntGrpDatas.getIntance().gameDataInstance.user_info=e.data.user_info,baseContent.SceneLayerMgr.getIntance().getCurrenScene().initShow()}return t.AntGrpDatas.getIntance().gameDataInstance.giftShowSomeData(e.data.appenddix),void t.AntGrpRequestMgr.getIntance().AntGroup_dailyBenefits_C()}viewTool.TipsUtil.getIntance().showTip(e.info)},e.prototype.AntGroup_chuqin_S=function(e){if(200==e.code){if(e.data.mine){t.AntGrpDatas.getIntance().antGrpMineInfos.mine=e.data.mine;var n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView");n&&n.parent&&n.SubViewArr[1].initShow(),t.AntGrpDatas.getIntance().gameDataInstance.user_info=e.data.user_info,baseContent.SceneLayerMgr.getIntance().getCurrenScene().initShow()}return t.AntGrpDatas.getIntance().gameDataInstance.giftShowSomeData(e.data.appenddix),void t.AntGrpRequestMgr.getIntance().AntGroup_dailyBenefits_C()}viewTool.TipsUtil.getIntance().showTip(e.info)},e.prototype.AntGroup_shopList_S=function(e){if(200==e.code){t.AntGrpDatas.getIntance().shopLists=e.data.lists;var n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpAntShop");return void(n&&n.parent?n.initShow():baseContent.PanelManager.getIntance().openTypeIntance(t.AntGrpAntShop))}viewTool.TipsUtil.getIntance().showTip(e.info)},e.prototype.AntGroup_buy_S=function(e){if(200==e.code){if(e.data.mine){t.AntGrpDatas.getIntance().antGrpMineInfos.mine=e.data.mine;var n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView");n&&n.parent&&n.SubViewArr[1].initShow(),t.AntGrpDatas.getIntance().gameDataInstance.user_info=e.data.user_info,baseContent.SceneLayerMgr.getIntance().getCurrenScene().initShow()}return t.AntGrpDatas.getIntance().gameDataInstance.giftShowSomeData(e.data.appenddix),void t.AntGrpRequestMgr.getIntance().AntGroup_shopList_C()}viewTool.TipsUtil.getIntance().showTip(e.info)},e.prototype.AntGroup_editGroupNotice_S=function(e){return 200==e.code?void t.AntGrpDatas.getIntance().tipsUtil.showTip("修改成功！"):void t.AntGrpDatas.getIntance().tipsUtil.showTip(e.info)},e.prototype.AntGroup_editGroupName_S=function(e){return 200==e.code?(t.AntGrpDatas.getIntance().tipsUtil.showTip("修改成功！"),t.AntGrpDatas.getIntance().gameDataInstance.user_info=e.data.user_info,void baseContent.SceneLayerMgr.getIntance().getCurrenScene().initShow()):void t.AntGrpDatas.getIntance().tipsUtil.showTip(e.info)},e.prototype.AntGroup_editGroup_S=function(e){return 200==e.code?void t.AntGrpDatas.getIntance().tipsUtil.showTip("修改成功！"):void t.AntGrpDatas.getIntance().tipsUtil.showTip(e.info)},e.prototype.AntGroup_changeJob_S=function(e){return 200==e.code?(t.AntGrpDatas.getIntance().tipsUtil.showTip("修改成功！"),void t.AntGrpRequestMgr.getIntance().AntGroup_groupMember_C()):void t.AntGrpDatas.getIntance().tipsUtil.showTip(e.info)},e.prototype.AntGroup_fire_S=function(e){return 200==e.code?(t.AntGrpDatas.getIntance().tipsUtil.showTip("删除成功！"),t.AntGrpRequestMgr.getIntance().AntGroup_groupMember_C(),void t.AntGrpRequestMgr.getIntance().AntGroup_mineGroup_C()):void t.AntGrpDatas.getIntance().tipsUtil.showTip(e.info)},e.prototype.AntGroup_buyAntMedal_S=function(e){if(200==e.code){t.AntGrpDatas.getIntance().gameDataInstance.user_info=e.data.user_info,baseContent.SceneLayerMgr.getIntance().getCurrenScene().initShow(),t.AntGrpDatas.getIntance().tipsUtil.showTip("购买成功！");var n=void 0;return n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView"),"unOpen"==n.ConfigType&&n&&n.parent&&n.SubViewArr[1].initShow(),n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpChangeGroupNameView"),void(n&&n.parent&&n.changeZhang())}t.AntGrpDatas.getIntance().tipsUtil.showTip(e.info)},e.prototype.AntGroup_editGroup_Brd=function(e){if(200==e.code){t.AntGrpDatas.getIntance().antGrpMineInfos.group=e.data.group;var n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView");n&&n.parent&&(n.SubViewArr[1].initShow(),n.SubViewArr[0].changeNotice(t.AntGrpDatas.getIntance().antGrpMineInfos.group.notice))}},e.prototype.AntGroup_GroupMsg_Brd=function(e){if(200==e.code){var n=e.data,i=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView");if(i&&i.parent){var r=i.SubViewArr[0];r&&r.isCreate?n.uid==t.AntGrpDatas.getIntance().gameDataInstance.user_info.id?i.SubViewArr[0].addOneMsg(n,!0):i.SubViewArr[0].addOneMsg(n,!0):t.AntGrpDatas.getIntance().antGrpMineInfos.chat_list=[n].concat(t.AntGrpDatas.getIntance().antGrpMineInfos.chat_list)}}},e}();t.AntGrpResponseMgr=e,__reflect(e.prototype,"ant_grp.AntGrpResponseMgr")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.skinName="AntGrpChatViewItemMsgSkin",n.msgInfo=t,n}return __extends(n,e),n.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init(),this.addEvent()},n.prototype.init=function(){if(this.msgInfo){switch(this.msgInfo.msgType){case"system":this.removeChild(this.usOrOtherMsg),this.systemText.text=""+this.msgInfo.data.message;break;case"other":this.removeChild(this.systemMsg),this.showMsgTypeInfo(),this.headGrp.left=0,this.typeIcon.left=120,this.infoGrp.left=200,this.infoGrp.layout.horizontalAlign="left",this.msgImg.scaleX=1,this.msg.left=30,this.msg.right=15,this.msg.textAlign="left",this.msgGrp.left=120;break;case"us":this.removeChild(this.systemMsg),this.showMsgTypeInfo(),this.headGrp.right=0,this.typeIcon.right=120,this.infoGrp.right=200,this.infoGrp.layout.horizontalAlign="right";for(var e=this.infoGrp.numChildren-1,n=e;n>=0;n--){var i=this.infoGrp.removeChildAt(n);this.infoGrp.addChild(i)}this.msgImg.scaleX=-1,this.msg.left=15,this.msg.right=30,this.msg.textAlign="right",this.msgGrp.right=120}this.dispatchEvent(new egret.Event(t.AntGrpViewSubChatView.msgCreate))}},n.prototype.showMsgTypeInfo=function(){if(this.showImg.mask=this.showImgMask,this.msgInfo.data.avatar&&this.msgInfo.data.avatar.length>0&&commonUtils.ImageTools.loadImage(this.msgInfo.data.avatar,function(t){this.showImg.source=t},this),this.typeIcon.source=["ant_grp_btn_ty_png","ant_grp_btn_jy_png","ant_grp_btn_ft_png","ant_grp_btn_tz_png"][this.msgInfo.data.job],this.msg.text=this.msgInfo.data.message,this.userName.text=this.msgInfo.data.user_name,this.msgInfo.data.uid==t.AntGrpDatas.getIntance().gameDataInstance.user_info.id)return void(this.jbBtn.visible=!1);if(this.msgInfo.data.isReport){this.jbBtn.touchEnabled=!1;var e=[];e=[{text:"已举报",style:{underline:!0,textColor:"0xff0000"}}],this.jbBtn.textFlow=e}else{var e=[];e=[{text:"举报",style:{underline:!0,textColor:"0x0445C9"}}],this.jbBtn.textFlow=e,this.jbBtn.touchEnabled=!0}},n.prototype.addEvent=function(){commonUtils.EventMananger.getIntance().addEvent(t.AntGrpEvent.beJbEvent,this.beJbHandle,this),this.jbBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.headGrp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.beJbHandle=function(t){if(this.msgInfo.data.uid==t){this.jbBtn.touchEnabled=!1;var e=[];e=[{text:"已举报",style:{underline:!0,textColor:"0xff0000"}}],this.jbBtn.textFlow=e}},n.prototype.touchHandle=function(e){switch(e.target){case this.jbBtn:baseContent.PanelManager.getIntance().openTypeIntance(t.AntGrpChatJuBao,{user_name:this.msgInfo.data.user_name,uid:this.msgInfo.data.uid});break;case this.headGrp:if(t.AntGrpDatas.getIntance().gameDataInstance.user_info.id==this.msgInfo.data.uid)return void t.AntGrpDatas.getIntance().tipsUtil.showTip("这是你自己哦！");var n=new egret.Point;n=this.headGrp.localToGlobal(this.headGrp.x+this.headGrp.width,this.headGrp.y+this.headGrp.height/2,n);var i=["true","null","null","true"],r=new t.AntGrpMemberInfoView({indexPoint:n,admin:i});r.config=new t.MemberInfo,r.config.uid=this.msgInfo.data.uid,baseContent.PanelManager.getIntance().openPanelInstance(r)}},n.prototype.removeEvent=function(){commonUtils.EventMananger.getIntance().removeEvent(t.AntGrpEvent.beJbEvent,this.beJbHandle,this),this.headGrp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.jbBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n}(eui.Component);t.AntGrpChatViewItemMsg=e,__reflect(e.prototype,"ant_grp.AntGrpChatViewItemMsg")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.index_=0,n.skinName="AntGrpHuiSelectItemViewSkin",n.width=200,n.height=230,n.index_=e,n.name=""+e,n}return __extends(e,t),Object.defineProperty(e.prototype,"Index",{get:function(){return this.index_},enumerable:!0,configurable:!0}),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.init()},e.prototype.init=function(){(this.index_||0==this.index_)&&(this.iconImg.source="ant_grp_icon_hui_"+this.index_+"_png")},e.prototype.isSelect=function(t){this.iconGuangImg.visible=!0},e}(eui.Component);t.AntGrpHuiSelectItemView=e,__reflect(e.prototype,"ant_grp.AntGrpHuiSelectItemView")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.horizontalCenter=0,t.skinName="AntGrpHuiSelectViewSkin",t}return __extends(n,e),Object.defineProperty(n.prototype,"SelectIndex",{get:function(){return this.selectIndex},set:function(t){this.showSelectSomeOne(t),this.selectIndex=t},enumerable:!0,configurable:!0}),n.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init(),this.addEvent()},n.prototype.init=function(){var e=this;e.iconGrp.removeChildren(),e.iconArr=[];for(var n=0;12>n;n++){var i=new t.AntGrpHuiSelectItemView(n);e.iconGrp.addChild(i),3==n?(e.selectIndex=i.Index,i.scaleX=i.scaleY=.88):1==Math.abs(3-n)?i.scaleX=i.scaleY=.72:i.scaleX=i.scaleY=.61,e.iconArr.push(i)}e.iconScr.viewport.scrollH=178,e.addEvent()},n.prototype.initShow=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},n.prototype.addEvent=function(){this.iconScr.addEventListener(egret.Event.CHANGE,this.changeScr,this),this.iconScr.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.changeEndScr,this),this.iconScr.addEventListener(eui.UIEvent.CHANGE_END,this.changeEndScr,this)},n.prototype.changeScr=function(){var t=this,e=Math.abs((t.iconScr.viewport.scrollH-178)/140);if(e=e>1?1:e,t.iconScr.viewport.scrollH>178){if(e>.98)return void t.leftOrRight(!0);t.iconArr[2].scaleX=t.iconArr[2].scaleY=.72-.11*e,t.iconArr[3].scaleX=t.iconArr[3].scaleY=.88-.16*e,t.iconArr[4].scaleX=t.iconArr[4].scaleY=.72+.16*e,t.iconArr[5].scaleX=t.iconArr[5].scaleY=.61+.11*e}else if(t.iconScr.viewport.scrollH<178){if(e>.98)return void t.leftOrRight(!1);t.iconArr[1].scaleX=t.iconArr[1].scaleY=.61+.11*e,t.iconArr[2].scaleX=t.iconArr[2].scaleY=.72+.16*e,t.iconArr[3].scaleX=t.iconArr[3].scaleY=.88-.16*e,t.iconArr[4].scaleX=t.iconArr[4].scaleY=.72-.11*e}},n.prototype.changeEndScr=function(){var t=this;t.iconScr.viewport.scrollH=178;for(var e=0;12>e;e++){var n=t.iconGrp.getChildAt(e);3==e?(n.scaleX=n.scaleY=.88,t.selectIndex=n.Index):1==Math.abs(3-e)?n.scaleX=n.scaleY=.72:n.scaleX=n.scaleY=.61}},n.prototype.leftOrRight=function(t){var e,n,i=this;t?(n=i.iconArr.shift(),i.iconArr.push(n),e=i.iconGrp.removeChildAt(0),i.iconGrp.addChild(e)):(n=i.iconArr.splice(i.iconArr.length-1,1),i.iconArr=n.concat(i.iconArr),e=i.iconGrp.removeChildAt(i.iconGrp.numChildren-1),i.iconGrp.addChildAt(e,0)),i.changeEndScr()},n.prototype.showSelectSomeOne=function(t){var e=0;if(t>this.selectIndex){e=t-this.selectIndex;for(var n=0;e>n;n++)this.leftOrRight(!0)}else{if(!(t<this.selectIndex))return;e=this.selectIndex-t;for(var n=0;e>n;n++)this.leftOrRight(!1)}},n.prototype.removeEvent=function(){this.iconScr.removeEventListener(eui.UIEvent.CHANGE,this.changeScr,this),this.iconScr.removeEventListener(eui.UIEvent.CHANGE_END,this.changeEndScr,this),this.iconScr.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.changeEndScr,this)},n.prototype.destroy=function(){this.removeEvent(),this.parent&&this.parent.removeChild(this)},n}(eui.Component);t.AntGrpHuiSelectView=e,__reflect(e.prototype,"ant_grp.AntGrpHuiSelectView")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.skinName="AntGrpLobbyItemViewSkin",t}return __extends(n,e),n.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.redImg.visible=!1,this.addEvent()},n.prototype.initShow=function(t){switch(this.config=t,t){case 0:this.bg.source="ant_grp_cck_1_png",this.icon.source="ant_grp_img_box_png",this.icon.horizontalCenter=0,this.icon.verticalCenter=-22,this.enterBtn.getChildByName("btnText").source="ant_grp_text_mrfl_png";break;case 1:this.bg.source="ant_grp_cck_2_png",this.icon.source="ant_grp_img_shop_png",this.icon.horizontalCenter=5,this.icon.verticalCenter=-36,this.enterBtn.getChildByName("btnText").source="ant_grp_text_mysd_png";break;default:this.bg.source="ant_grp_cck_0_png",this.icon.visible=!1,this.enterBtn.visible=!1}},n.prototype.addEvent=function(){this.enterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){switch(e.target){case this.enterBtn:switch(this.config){case 0:t.AntGrpRequestMgr.getIntance().AntGroup_dailyBenefits_C();break;case 1:t.AntGrpRequestMgr.getIntance().AntGroup_shopList_C()}}},n.prototype.removeEvent=function(){this.enterBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n}(eui.Component);t.AntGrpLobbyItemView=e,__reflect(e.prototype,"ant_grp.AntGrpLobbyItemView")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.index_=0,n.infoQueue=e,n.skinName="AntGrpSelectTypeSkin",n}return __extends(e,t),Object.defineProperty(e.prototype,"InfoQueueStr",{get:function(){return this.infoQueueStr},set:function(t){for(t=t.replace("[",""),t=t.replace("]","");-1!=t.indexOf('"');)t=t.replace('"',"");this.infoQueueStr=t,this.infoQueue=t.split(",")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconSource",{get:function(){return this.iconSource_},set:function(t){this.iconSource_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Index",{get:function(){return this.index_},set:function(t){this.index_=t,this.initShow()},enumerable:!0,configurable:!0}),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.initShow(),this.addEvent()},e.prototype.initShow=function(){this.iconSource_?this.iconShow.source=this.iconSource_:this.iconShow.parent&&this.iconShow.parent.removeChild(this.iconShow),this.infoQueue&&this.infoQueue.length>0?this.infoText.text=this.infoQueue[this.index_]:this.infoText.text="暂无数据!",0==this.index_?this.leftBtn.enabled=!1:this.leftBtn.enabled=!0,this.index_==this.infoQueue.length-1?this.rightBtn.enabled=!1:this.rightBtn.enabled=!0},e.prototype.changeInfos=function(t){"left"==t?this.index_--:this.index_++,this.index_<=0?(this.leftBtn.enabled=!1,this.index_=0):this.leftBtn.enabled=!0,this.index_>=this.infoQueue.length-1?(this.index_=this.infoQueue.length-1,this.rightBtn.enabled=!1):this.rightBtn.enabled=!0,this.infoText.text=this.infoQueue[this.index_]},e.prototype.addEvent=function(){this.leftBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.rightBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},e.prototype.touchHandle=function(t){switch(t.target){case this.leftBtn:this.changeInfos("left");break;case this.rightBtn:this.changeInfos("right")}},e.prototype.removeEvent=function(){this.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},e.prototype.destory=function(){this.removeEvent(),this.parent&&this.parent.removeChild(this)},e}(eui.Component);t.AntGrpSelectType=e,__reflect(e.prototype,"ant_grp.AntGrpSelectType")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.isCreate=!1,n.dataInfo=t,n.skinName="AntGrpViewItemSkin",n}return __extends(n,e),n.prototype.dataChanged=function(){e.prototype.dataChanged.call(this)},n.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.isCreate=!0,this.initShow(this.dataInfo),this.addEvent()},n.prototype.initShow=function(t){if(this.isCreate&&t)switch(this.dataInfo=t,this.huiIcon.source="ant_grp_icon_hui_"+t.badge+"_png",this.antGrpName.text=t.group_name,this.antGrpId.text="ID:"+t.id,this.pNum.text=t.mem_num+"/"+t.max_mem_num,this.antGrpInfo.text=0==t.friend_num?"":"您有"+t.friend_num+"个好友在这里",t.in_condition){case 0:this.sendBtn.textImg.source="ant_grp_text_jr0_png",this.sendBtn.bgImg.source="panel_common_someBtn_json.panel_common_type14_1_png",0==t.in_level?(this.sendBtn.textImg.verticalCenter=0,this.sendBtn.starGrp.visible=!1):(this.sendBtn.starGrp.visible=!0,this.sendBtn.textImg.verticalCenter=-20,this.sendBtn.starGrp.getChildByName("starNum").text=""+t.in_level),this.sendBtn.starImg.source="ant_grp_icon_star_png",this.sendBtn.touchEnabled=!0,this.sendBtn.enabled=!0;break;case 1:this.sendBtn.textImg.source="panel_common_someBtn_json.panel_common_shenqing_type15_1_png",this.sendBtn.bgImg.source="panel_common_someBtn_json.panel_common_type15_1_png",0==t.in_level?(this.sendBtn.textImg.verticalCenter=0,this.sendBtn.starGrp.visible=!1):(this.sendBtn.starGrp.visible=!0,this.sendBtn.textImg.verticalCenter=-20,this.sendBtn.starGrp.getChildByName("starNum").text=""+t.in_level),this.sendBtn.starImg.source="ant_grp_icon_star_png",this.sendBtn.touchEnabled=!0;break;case 2:this.sendBtn.textImg.source="ant_grp_text_jr2_png",this.sendBtn.bgImg.source="panel_common_someBtn_json.panel_common_type14_2_png",0==t.in_level?(this.sendBtn.textImg.verticalCenter=0,this.sendBtn.starGrp.visible=!1):(this.sendBtn.starGrp.visible=!0,this.sendBtn.textImg.verticalCenter=-20,this.sendBtn.starGrp.getChildByName("starNum").text=""+t.in_level),this.sendBtn.starImg.source="antGame_img_star_hui_png",this.sendBtn.touchEnabled=!1}},n.prototype.addEvent=function(){this.sendBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){switch(e.target){case this.sendBtn:switch(this.dataInfo.in_condition){case 0:t.AntGrpRequestMgr.getIntance().AntGroup_enterGroup_C(this.dataInfo.id);break;case 1:var n=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpAddGrpYanZhengView");n||(n=new t.AntGrpAddGrpYanZhengView),n.dataInfo=this.dataInfo,baseContent.PanelManager.getIntance().openPanelInstance(n)}}},n.prototype.removeEvent=function(){this.sendBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n}(eui.ItemRenderer);t.AntGrpViewItem=e,__reflect(e.prototype,"ant_grp.AntGrpViewItem")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(t,n){var i=e.call(this)||this;return i.config=t,i.index_=n,i.skinName="AntGrpViewSubAssViewItemSkin",i.once(egret.Event.ADDED,function(){i.cacheAsBitmap=!0},i),i}return __extends(n,e),n.prototype.init=function(){this.config&&this.initShow(this.config)},n.prototype.initShow=function(e,n){if(void 0===n&&(n=this.index_),e){this.index_=n,this.config=e,this.titleText.text=this.config.comment;var i;i=101==this.config.condition_start?commonUtils.NumberTool.formatMoney(this.config.condition_end)+"/"+commonUtils.NumberTool.formatMoney(this.config.condition_end):commonUtils.NumberTool.formatMoney(this.config.condition_start)+"/"+commonUtils.NumberTool.formatMoney(this.config.condition_end),this.barPr.initDataShow({per:this.config.condition_start/this.config.condition_end,texts:i}),this.numShow.text=this.config.award_num+"",this.iconImg.source=t.AntGrpDatas.getIntance().gameDataInstance.getSomeOneIconStrByType(this.config.award_type),1==this.config.isCanGet?(this.configBtn1.enabled=!0,this.configBtn1.textImgSource="panel_common_someBtn_json.panel_xinshoumubiao_font_qianwang_type5_png",this.configBtn1.btnImgSource="panel_common_someBtn_json.panel_common_type5_0_png",this.configBtn1.btnImgDown="panel_common_someBtn_json.panel_common_type5_1_png"):2==this.config.isCanGet?(this.configBtn1.enabled=!0,this.configBtn1.textImgSource="panel_common_someBtn_json.panel_xiaoxixitong_common_font1_type0_png",this.configBtn1.btnImgSource="panel_common_someBtn_json.panel_common_type0_0_png",this.configBtn1.btnImgDown="panel_common_someBtn_json.panel_common_type0_1_png"):(this.configBtn1.enabled=!1,this.configBtn1.textImg.visible=!1)
}},n.prototype.addEvent=function(){this.configBtn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this)},n.prototype.removeEvent=function(){this.configBtn1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this)},n.prototype.touchHanle=function(e){var n=this;switch(e.target){case this.configBtn1:if(console.log("configBtn1-->"+this.config.tid),1!=this.config.isCanGet)t.AntGrpRequestMgr.getIntance().AntGroup_getTaskAward_C(this.config.tid);else{var i=void 0;switch(this.config.task_type){case 15:return i=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView"),void(i&&i.parent&&(i.HeadSelectIndex=1));case 16:return i=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView"),i&&i.parent&&(i.HeadSelectIndex=2),void t.AntGrpRequestMgr.getIntance().AntGroup_dailyBenefits_C();case 17:break;case 18:return i=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView"),i&&i.parent&&(i.HeadSelectIndex=2),void t.AntGrpRequestMgr.getIntance().AntGroup_shopList_C();case 19:break;case 20:return commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.MiwuZheDangEvent,!0),void egret.setTimeout(function(){commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.CloseShowChaoPing,!0),commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.CloseShowMainViewExitTopGrp,!0,!1),t.AntGrpDatas.getIntance().GameViewMgr.toForworadTaskTypeByView(n.config.task_type,"AntGrpView")},this,750);case 21:return void commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.openSomePanelKey,"PanelErenBangView");case 22:break;case 23:}commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.MiwuZheDangEvent,!0),egret.setTimeout(function(){commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.CloseShowChaoPing,!0),commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.CloseShowMainViewExitTopGrp,!0,!1),commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.MiwuZheDangEvent,!1),t.AntGrpDatas.getIntance().GameViewMgr.toForworadTaskTypeByView(n.config.task_type,"AntGrpView")},this,750)}}},n}(viewTool.BaseCustomPanelListItem);t.AntGrpViewSubAssViewItem=e,__reflect(e.prototype,"ant_grp.AntGrpViewSubAssViewItem")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.horizontalCenter=0,t.skinName="AntGrpViewSubAddViewSkin",t}return __extends(n,e),n.prototype.init=function(){},n.prototype.initShow=function(e){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(n){return e=this,[2,new Promise(function(n){if(t.AntGrpDatas.getIntance().group_list)for(var i=0,r=t.AntGrpDatas.getIntance().group_list.length;r>i;i++)if(e.antGrpInfo.numChildren>i){var o=e.antGrpInfo.getChildAt(i);o.initShow(t.AntGrpDatas.getIntance().group_list[i])}else{var a=new t.AntGrpViewItem(t.AntGrpDatas.getIntance().group_list[i]);e.antGrpInfo.addChild(a)}})]})})},n.prototype.addEvent=function(){this.sendBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){switch(e.target){case this.sendBtn:t.AntGrpRequestMgr.getIntance().AntGroup_getGroupList_C()}},n.prototype.removeEvent=function(){this.sendBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(t.AntGrpViewSubView);t.AntGrpViewSubAddView=e,__reflect(e.prototype,"ant_grp.AntGrpViewSubAddView")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.isCreate=!1,t.horizontalCenter=0,t.skinName="AntGrpViewSubAssViewSkin",t}return __extends(n,e),n.prototype.enable=function(){this.starTime(),t.AntGrpRequestMgr.getIntance().AntGroup_dailyTask_C()},n.prototype.starTime=function(){var e=this;if(this.isCreate&&t.AntGrpDatas.getIntance().dailyInfo){this.timeKey&&egret.clearInterval(this.timeKey);var n=t.AntGrpDatas.getIntance().dailyInfo.task_refresh_time;this.timeNum.text=commonUtils.NumberTool.getShowTimeTwo(n),this.timeKey=egret.setInterval(function(){return n--,0>n?(egret.clearInterval(e.timeKey),void(e.timeKey=null)):void(e.timeNum.text=commonUtils.NumberTool.getShowTimeTwo(n))},this,1e3)}},n.prototype.init=function(){var t=this;t.initShow(),t.isCreate=!0},n.prototype.initShow=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(n){return e=this,e.isCreate?[2,new Promise(function(n){if(t.AntGrpDatas.getIntance().antGrpMineInfos.group&&(e.ant_coin.text=t.AntGrpDatas.getIntance().antGrpMineInfos.mine.ant_coin+"",e.timeNum.text="10:10:12"),t.AntGrpDatas.getIntance().dailyInfo){for(var i=0,r=t.AntGrpDatas.getIntance().dailyInfo.daily_tasks.length;r>i;i++){var o=void 0;i<e.showGrp.numChildren?(o=e.showGrp.getChildAt(i),o.initShow(t.AntGrpDatas.getIntance().dailyInfo.daily_tasks[i],i)):(o=new t.AntGrpViewSubAssViewItem(t.AntGrpDatas.getIntance().dailyInfo.daily_tasks[i],i),e.showGrp.addChild(o))}e.starTime()}})]:[2]})})},n.prototype.addEvent=function(){this.infoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){switch(e.target){case this.infoBtn:var n=new t.AntGrpHelpView({titleSource:"ant_grp_text_help_png",docSource:"ant_grp_text_help_info_1_png"});baseContent.PanelManager.getIntance().openPanelInstance(n)}},n.prototype.removeEvent=function(){this.infoBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(t.AntGrpViewSubView);t.AntGrpViewSubAssView=e,__reflect(e.prototype,"ant_grp.AntGrpViewSubAssView")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.isCreate=!1,t.horizontalCenter=0,t.skinName="AntGrpViewSubChatViewSkin",t}return __extends(n,e),n.prototype.enable=function(){t.AntGrpDatas.getIntance().redConfig&&(t.AntGrpDatas.getIntance().redConfig.antGrpChatBtn=0,t.AntGrpRequestMgr.getIntance().AntGroup_chatMsgSee_C())},n.prototype.init=function(){this.isCreate=!0,this.inputText.text="",t.AntGrpDatas.getIntance().antGrpMineInfos.group&&t.AntGrpDatas.getIntance().antGrpMineInfos.chat_list&&(this.initShow(t.AntGrpDatas.getIntance().antGrpMineInfos.chat_list),this.changeNotice(t.AntGrpDatas.getIntance().antGrpMineInfos.group.notice))},n.prototype.initShow=function(e){return void 0===e&&(e=null),__awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){return n=this,[2,new Promise(function(i){if(n.editBtn.visible=t.AntGrpDatas.getIntance().antGrpMineInfos.mine.job>1,e&&e.length>0){if(egret.Capabilities.runtimeType==egret.RuntimeType.WXGAME)egret.setTimeout(function(){n.msgGrp.measuredHeight>n.msgScr.height&&egret.Tween.get(n.msgGrp).to({scrollV:n.msgGrp.contentHeight-n.msgScr.height},300,egret.Ease.sineIn),console.log("self.msgGrp.measuredHeight:"+n.msgGrp.measuredHeight+" self.msgGrp.contentHeight:"+n.msgGrp.contentHeight)},n,500);else{var r=function(){n.msgGrp.measuredHeight>n.msgScr.height&&(n.msgGrp.scrollV=n.msgGrp.measuredHeight-n.msgScr.height),n.msgGrp.removeEventListener(eui.UIEvent.RESIZE,r,n)};n.msgGrp.addEventListener(eui.UIEvent.RESIZE,r,n)}for(var o=e.length-1;o>-1;o--)n.addOneMsg(e[o],!1)}})]})})},n.prototype.addOneSystemMsg=function(e,n){void 0===n&&(n=!1);var i=new t.AntGrpChatViewItemMsg({msgType:"system",data:e});return n&&this.msgShowBottom(i),this.msgGrp.addChild(i),i},n.prototype.addOneMsg=function(e,n){if(0==e.uid)return this.addOneSystemMsg(e,n);var i="us";e.uid!=t.AntGrpDatas.getIntance().gameDataInstance.user_info.id&&(i="other");var r=t.AntGrpDatas.getIntance().reportingUserIdS.get(e.uid);r?e.isReport=1:e.isReport=0;var o=new t.AntGrpChatViewItemMsg({msgType:i,data:e});return n&&this.msgShowBottom(o),this.msgGrp.addChild(o),o},n.prototype.changeNotice=function(t){void 0===t&&(t=""),this.noticeText.text=t+""},n.prototype.sendMsg=function(){t.AntGrpRequestMgr.getIntance().AntGroup_sendGroupMessage_C(this.inputText.text),this.inputText.text=""},n.prototype.msgShowBottom=function(e){var n=this,i=function(){e.cacheAsBitmap=!0,n.msgGrp.measuredHeight+e.height+50>n.msgScr.height&&(egret.Tween.removeTweens(n.msgGrp),egret.Tween.get(n.msgGrp).to({scrollV:n.msgGrp.contentHeight+e.height+50-n.msgScr.height},100,egret.Ease.sineIn)),e.removeEventListener(t.AntGrpViewSubChatView.msgCreate,i,this)};e.addEventListener(t.AntGrpViewSubChatView.msgCreate,i,this)},n.prototype.addEvent=function(){this.sendBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.editBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){switch(e.target){case this.sendBtn:this.sendMsg();break;case this.editBtn:baseContent.PanelManager.getIntance().openTypeIntance(t.AntGrpNoticeEditView)}},n.prototype.removeEvent=function(){this.sendBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.editBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this)},n.msgCreate="msgCreate",n}(t.AntGrpViewSubView);t.AntGrpViewSubChatView=e,__reflect(e.prototype,"ant_grp.AntGrpViewSubChatView")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.horizontalCenter=0,t.skinName="AntGrpViewSubCreateViewSkin",t}return __extends(n,e),n.prototype.init=function(){this.initShow()},n.prototype.initShow=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(n){return e=this,[2,new Promise(function(n){e.zhangNum.text="X"+t.AntGrpDatas.getIntance().gameDataInstance.user_info.ant_medal})]})})},n.prototype.addEvent=function(){this.createBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){switch(e.target){case this.createBtn:if(t.AntGrpDatas.getIntance().gameDataInstance.user_info.ant_medal<1)return void baseContent.PanelManager.getIntance().openTypeIntance(t.AntGrpBuyXunZhangView);if(this.antGrpNameInput.text.trim().length<=0){t.AntGrpDatas.getIntance().tipsUtil.showTip("请输入你创建的蚂蚁团名称!");break}t.AntGrpRequestMgr.getIntance().AntGroup_createGroup_C({group_name:this.antGrpNameInput.text.trim(),badge:this.antGrpHuiInput.SelectIndex,in_condition:this.conditionInput.Index,in_level:100*this.levlInput.Index})}},n.prototype.removeEvent=function(){this.createBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(t.AntGrpViewSubView);t.AntGrpViewSubCreateView=e,__reflect(e.prototype,"ant_grp.AntGrpViewSubCreateView")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.horizontalCenter=0,t.skinName="AntGrpViewSubLobbyViewSkin",t}return __extends(n,e),n.prototype.enable=function(){},n.prototype.init=function(){this.initShow(),this.initShowIconGrp()},n.prototype.initShow=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(n){return e=this,[2,new Promise(function(n){t.AntGrpDatas.getIntance().antGrpMineInfos.mine&&(e.adminBtn.visible=e.editBtn.visible=t.AntGrpDatas.getIntance().antGrpMineInfos.mine.job>1),t.AntGrpDatas.getIntance().antGrpMineInfos.group&&(e.antGrpIcon.source="ant_grp_icon_hui_"+t.AntGrpDatas.getIntance().antGrpMineInfos.group.badge+"_png",e.antGrpName.text=t.AntGrpDatas.getIntance().antGrpMineInfos.group.group_name+"",e.antGrpId.text=t.AntGrpDatas.getIntance().antGrpMineInfos.group.id+"",e.pNum.text=t.AntGrpDatas.getIntance().antGrpMineInfos.group.mem_num+"/"+t.AntGrpDatas.getIntance().antGrpMineInfos.group.max_mem_num,e.addConditon.text=t.AntGrpDatas.getIntance().addConditonArr[t.AntGrpDatas.getIntance().antGrpMineInfos.group.in_condition],e.levlText.text=t.AntGrpDatas.getIntance().antGrpMineInfos.group.in_level+"",e.actLevl.text=t.AntGrpDatas.getIntance().antGrpMineInfos.group.group_act_level+"",0!=t.AntGrpDatas.getIntance().antGrpMineInfos.group.group_act_num?(e.barImg.visible=!0,e.barImg.width=Math.floor(198*t.AntGrpDatas.getIntance().antGrpMineInfos.group.group_act_num/t.AntGrpDatas.getIntance().antGrpMineInfos.group.need_act_num),e.barImg.width<35?e.barImg.width=35:0):e.barImg.visible=!1,e.textShow.text=t.AntGrpDatas.getIntance().antGrpMineInfos.group.group_act_num+"/"+t.AntGrpDatas.getIntance().antGrpMineInfos.group.need_act_num,e.ant_coin.text=t.AntGrpDatas.getIntance().antGrpMineInfos.mine.ant_coin+"",e.act_num.text=t.AntGrpDatas.getIntance().antGrpMineInfos.mine.act_num+"")})]})})},n.prototype.initShowIconGrp=function(){for(var t=0,e=this.iconGrp.numChildren;e>t;t++)this.iconGrp.getChildAt(t).initShow(t)},n.prototype.addEvent=function(){this.plistBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.editBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.adminBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){switch(e.target){case this.plistBtn:t.AntGrpRequestMgr.getIntance().AntGroup_groupMember_C();break;case this.editBtn:baseContent.PanelManager.getIntance().openTypeIntance(t.AntGrpChangeGroupNameView);break;case this.adminBtn:baseContent.PanelManager.getIntance().openTypeIntance(t.AntGrpAdminView)}},n.prototype.removeEvent=function(){this.plistBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.editBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.adminBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(t.AntGrpViewSubView);t.AntGrpViewSubLobbyView=e,__reflect(e.prototype,"ant_grp.AntGrpViewSubLobbyView")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.horizontalCenter=0,t.skinName="AntGrpViewSubSearchViewSkin",t}return __extends(n,e),n.prototype.init=function(){},n.prototype.initShow=function(e){return __awaiter(this,void 0,void 0,function(){var n,i=this;return __generator(this,function(r){return n=this,[2,new Promise(function(r){if(!e)return i.nullgrp.visible=!0,void(i.antGrpInfo.visible=!1);i.nullgrp.visible=!1,i.antGrpInfo.visible=!0;for(var o=0,a=e.length;a>o;o++)if(n.antGrpInfo.numChildren>o){var s=n.antGrpInfo.getChildAt(o);s.initShow(e[o])}else{var p=new t.AntGrpViewItem(e[o]);n.antGrpInfo.addChild(p)}})]})})},n.prototype.addEvent=function(){this.searchBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){switch(e.target){case this.searchBtn:if(this.antGrpIdInput.text.trim().length<=0){t.AntGrpDatas.getIntance().tipsUtil.showTip("请输入蚂蚁团ID!");break}var n=this.antGrpIdInput.text.trim();t.AntGrpRequestMgr.getIntance().AntGroup_searchGroup_C(parseInt(n)),this.antGrpIdInput.text=""}},n.prototype.removeEvent=function(){this.searchBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(t.AntGrpViewSubView);t.AntGrpViewSubSearchView=e,__reflect(e.prototype,"ant_grp.AntGrpViewSubSearchView")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.className_key="AntGrpView",n.isCreateOk=!1,n.headSelectIndex=null,n.configType=t.type,n.headSelectIndex=t.showIndex,n.skinName="AntGrpViewSkin",n}return __extends(n,e),Object.defineProperty(n.prototype,"SubViewArr",{get:function(){return this.subViewArr},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ConfigType",{get:function(){return this.configType},set:function(t){this.configType=t,this.initShowSubView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"HeadSelectIndex",{set:function(t){var e=this;switch(e.headSelectIndex=t,e.configType){case"unOpen":e.headUnOpenGrp.visible=!0,e.headOpenGrp.visible=!1,e.headUnOpenGrp.getChildAt(e.headSelectIndex-1).selected=!0;break;case"open":e.headUnOpenGrp.visible=!1,e.headOpenGrp.visible=!0,e.headOpenGrp.getChildAt(e.headSelectIndex-1).selected=!0}e.viewGrp.removeChildAt(e.viewGrp.numChildren-1),e.viewGrp.addChild(e.subViewArr[e.headSelectIndex-1])},enumerable:!0,configurable:!0}),n.prototype.enable=function(){e.prototype.enable.call(this),this.rectImg.visible=!1,this.initShow(),commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.CloseShowMainViewExitTopGrp,!1,!1),commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.MiwuZheDangEvent,!1)},n.prototype.init=function(){this.isCreateOk=!0,this.initShow()},n.prototype.initShow=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(n){return e=this,e.isCreateOk?t.AntGrpDatas.getIntance().antGrpMineInfos?(e.viewGrp.visible=!0,t.AntGrpDatas.getIntance().antGrpMineInfos.group?e.configType="open":e.configType="unOpen",[2,new Promise(function(t){e.initShowSubView(),e.showSomeRedConfig()})]):(e.viewGrp.visible=!1,[2,null]):[2]})})},n.prototype.initShowSubView=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(n){return e=this,[2,new Promise(function(n){if(e.subViewArr&&e.subViewArr.length>0)for(var i=0,r=e.subViewArr.length;r>i;i++)e.subViewArr[i].destroy();switch(e.subViewArr=[],e.configType){case"unOpen":null==e.headSelectIndex&&(e.headSelectIndex=1),t.AntGrpRequestMgr.getIntance().AntGroup_getGroupList_C(),e.headUnOpenGrp.visible=!0,e.headOpenGrp.visible=!1,e.headUnOpenGrp.getChildAt(e.headSelectIndex-1).selected=!0,e.subViewArr.push(new t.AntGrpViewSubAddView),e.subViewArr.push(new t.AntGrpViewSubCreateView),e.subViewArr.push(new t.AntGrpViewSubSearchView);break;case"open":null==e.headSelectIndex&&(e.headSelectIndex=2),e.headUnOpenGrp.visible=!1,e.headOpenGrp.visible=!0,e.headOpenGrp.getChildAt(e.headSelectIndex-1).selected=!0,e.subViewArr.push(new t.AntGrpViewSubChatView),e.subViewArr.push(new t.AntGrpViewSubLobbyView),e.subViewArr.push(new t.AntGrpViewSubAssView)}e.viewGrp.addChild(e.subViewArr[e.headSelectIndex-1])})]})})},n.prototype.addChangeHeadIndexEvent=function(){for(var t=this,e=0,n=t.headUnOpenGrp.numChildren;n>e;e++)t.headUnOpenGrp.getChildAt(e).addEventListener(egret.TouchEvent.TOUCH_TAP,t.changeHeadIndex,t);for(var e=0,n=t.headOpenGrp.numChildren;n>e;e++)t.headOpenGrp.getChildAt(e).addEventListener(egret.TouchEvent.TOUCH_TAP,t.changeHeadIndex,t)},n.prototype.changeHeadIndex=function(){var e,n=this;switch(n.configType){case"unOpen":e=n.headUnOpenGrp;break;case"open":e=n.headOpenGrp}for(var i=0,r=e.numChildren;r>i;i++)if(e.getChildAt(i).selected){n.headSelectIndex!=i+1&&(n.headSelectIndex=i+1,n.viewGrp.removeChildAt(n.viewGrp.numChildren-1),n.viewGrp.addChild(n.subViewArr[n.headSelectIndex-1]));break}"open"==n.configType&&2==n.headSelectIndex&&t.AntGrpRequestMgr.getIntance().AntGroup_mineGroup_C()},n.prototype.removeChangeHeadIndexEvent=function(){for(var t=this,e=0,n=t.headUnOpenGrp.numChildren;n>e;e++)t.headUnOpenGrp.getChildAt(e).removeEventListener(egret.TouchEvent.TOUCH_TAP,t.changeHeadIndex,t);for(var e=0,n=t.headOpenGrp.numChildren;n>e;e++)t.headOpenGrp.getChildAt(e).removeEventListener(egret.TouchEvent.TOUCH_TAP,t.changeHeadIndex,t)},n.prototype.showSomeRedConfig=function(){var e=t.AntGrpDatas.getIntance().redConfig;if("unOpen"!=this.configType&&e){this.subViewArr[0].parent?(t.AntGrpDatas.getIntance().redConfig.antGrpChatBtn=0,this.headOpenGrp.getChildAt(0).redImg.visible=!1):this.headOpenGrp.getChildAt(0).redImg.visible=e.antGrpChatBtn,this.headOpenGrp.getChildAt(1).redImg.visible=e.antGrpAddGrpMsgBtn||e.antGrpDailyBtn,this.headOpenGrp.getChildAt(2).redImg.visible=e.antGrpAssBtn,this.subViewArr[1].plistBtn.redImg.visible=e.antGrpAddGrpMsgBtn;var n=this.subViewArr[1];n.iconGrp.getChildAt(0).redImg.visible=e.antGrpDailyBtn;var i=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpGroupMemberView");i&&(i.sqlbBtn.redImg.visible=e.antGrpAddGrpMsgBtn)}},n.prototype.addEvent=function(){this.addChangeHeadIndexEvent(),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){var n=this;switch(e.target){case this.backBtn:commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.MiwuZheDangEvent,!0),egret.setTimeout(function(){n.removeUsFromParent(),commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.CloseShowChaoPing,!0),commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.CloseShowMainViewExitTopGrp,!0,!1),commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.MiwuZheDangEvent,!1)},this,750)}},n.prototype.removeEvent=function(){this.removeChangeHeadIndexEvent(),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.destroy=function(){},n}(baseContent.BasePanel);t.AntGrpView=e,__reflect(e.prototype,"ant_grp.AntGrpView",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.skinName="AntGrpAddGrpMsgItemViewSkin",t}return __extends(n,e),n.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.data&&(this.msgInfo=this.data,this.initShow(this.msgInfo))},n.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},n.prototype.init=function(){this.addEvent()},n.prototype.initShow=function(e){if(e){var n=this;n.userName.text=e.user_name+"",e.message&&e.message.length>0?n.infoDoc.text="信息："+e.message:n.infoDoc.text="信息：无",n.starNum.text=""+e.star_num,n.yesBtn.visible=n.noBtn.visible=t.AntGrpDatas.getIntance().antGrpMineInfos.mine.job>1,1==e.sex?n.sexImg.source="panel_haoyou_tex_json.panel_haoyou_icon_boy_png":n.sexImg.source="panel_haoyou_tex_json.panel_haoyou_icon_girl_png",n.head.setHEHead(e.avatar)}},n.prototype.enable=function(){},n.prototype.addEvent=function(){this.noBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this),this.yesBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this)},n.prototype.touchHanle=function(e){switch(e.target){case this.noBtn:t.AntGrpRequestMgr.getIntance().AntGroup_doApply_C(this.msgInfo.id,2),this.yesBtn.visible=this.noBtn.visible=!1;break;case this.yesBtn:t.AntGrpRequestMgr.getIntance().AntGroup_doApply_C(this.msgInfo.id,1),this.yesBtn.visible=this.noBtn.visible=!1}},n.prototype.removeEvent=function(){},n.prototype.destroy=function(){},n}(eui.ItemRenderer);t.AntGrpAddGrpMsgItemView=e,__reflect(e.prototype,"ant_grp.AntGrpAddGrpMsgItemView")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.className_key="AntGrpAddGrpMsgView",t.isCreate=!1,t.skinName="AntGrpAddGrpMsgViewSkin",t}return __extends(n,e),n.prototype.init=function(){this.isCreate=!0,this.msgList.itemRenderer=t.AntGrpAddGrpMsgItemView,this.msgList.itemRendererSkinName="AntGrpAddGrpMsgItemViewSkin",this.msgListArr=new eui.ArrayCollection,this.msgList.dataProvider=this.msgListArr,this.initShow()},n.prototype.cacheBitMapView=function(){e.prototype.cacheBitMapView.call(this)},n.prototype.enable=function(){e.prototype.enable.call(this),e.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType),this.initShow()},n.prototype.addEvent=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this)},n.prototype.touchHanle=function(e){switch(e.target){case this.closeBtn:this.removeUs(),t.AntGrpRequestMgr.getIntance().AntGroup_groupMember_C()}},n.prototype.initShow=function(e){return void 0===e&&(e=null),__awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(n){return e=this,e.isCreate?(e.showData=t.AntGrpDatas.getIntance().grpAddMsgLists,e.showData?e.showData.length<1?(e.nullGrp.visible=!0,e.msgGrp.visible=!1,[2]):(e.nullGrp.visible=!1,e.msgGrp.visible=!0,new Promise(function(t){e.msgListArr.removeAll();for(var n=0,i=e.showData.length;i>n;n++)e.msgListArr.addItem(e.showData[n])}),[2]):[2]):[2]})})},n.prototype.removeUs=function(){e.prototype.removeUs.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.removeEvent=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this),this.closeBtn.destroy()},n}(baseContent.BasePanel);t.AntGrpAddGrpMsgView=e,__reflect(e.prototype,"ant_grp.AntGrpAddGrpMsgView",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.className_key="AntGrpAddGrpYanZhengView",t.skinName="PanelHaoYouYanZhengViewSkin",t}return __extends(n,e),n.prototype.init=function(){this.infoText.prompt="请输入申请验证消息",this.infoText.promptColor=15125406},n.prototype.enable=function(){e.prototype.enable.call(this),e.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.addEvent=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this),this.sendBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this)},n.prototype.touchHanle=function(t){switch(t.target){case this.closeBtn:this.removeUs();break;case this.sendBtn:this.addGrp()}},n.prototype.removeUs=function(){e.prototype.removeUs.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.addGrp=function(){var e=this.infoText.text.trim();t.AntGrpRequestMgr.getIntance().AntGroup_applyGroup_C(this.dataInfo.id,e),this.removeUs()},n.prototype.removeEvent=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this),this.sendBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this),this.closeBtn.destroy()},n}(baseContent.BasePanel);t.AntGrpAddGrpYanZhengView=e,__reflect(e.prototype,"ant_grp.AntGrpAddGrpYanZhengView",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.className_key="AntGrpAddGrpYanZhengView",t.skinName="PanelHaoYouYanZhengViewSkin",t}return __extends(n,e),n.prototype.init=function(){this.infoText.prompt="请输入申请验证消息",this.infoText.promptColor=15125406},n.prototype.enable=function(){e.prototype.enable.call(this),e.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.addEvent=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this),this.sendBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this)},n.prototype.touchHanle=function(t){switch(t.target){case this.closeBtn:this.removeUs();break;case this.sendBtn:this.addGrp()}},n.prototype.removeUs=function(){e.prototype.removeUs.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.addGrp=function(){var e=this.infoText.text.trim();t.AntGrpRequestMgr.getIntance().User_addFriend_C(this.uid,e),this.removeUs()},n.prototype.removeEvent=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this),this.sendBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this),this.closeBtn.destroy()},n}(baseContent.BasePanel);t.AntGrpAddHaoYouYanZhengView=e,__reflect(e.prototype,"ant_grp.AntGrpAddHaoYouYanZhengView",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.className_key="AntGrpAdminView",t.isCreate=!1,t.skinName="AntGrpAdminViewSkin",t}return __extends(n,e),n.prototype.enable=function(){e.prototype.enable.call(this),this.initShow(),e.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.init=function(){this.isCreate=!0,this.initShow()},n.prototype.initShow=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(n){return e=this,e.isCreate?(t.AntGrpDatas.getIntance().antGrpMineInfos.group&&(e.antGrpHuiInput.SelectIndex=t.AntGrpDatas.getIntance().antGrpMineInfos.group.badge,e.conditionInput.Index=t.AntGrpDatas.getIntance().antGrpMineInfos.group.in_condition,e.levlInput.Index=t.AntGrpDatas.getIntance().antGrpMineInfos.group.in_level/100),[2]):[2]})})},n.prototype.addEvent=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.sendBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){switch(e.target){case this.closeBtn:this.removeUsFromParent();break;case this.sendBtn:t.AntGrpRequestMgr.getIntance().AntGroup_editGroup_C({badge:this.antGrpHuiInput.SelectIndex,in_condition:this.conditionInput.Index,in_level:100*this.levlInput.Index}),this.removeUsFromParent()}},n.prototype.removeEvent=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.sendBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(baseContent.BasePanel);t.AntGrpAdminView=e,__reflect(e.prototype,"ant_grp.AntGrpAdminView",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.className_key="AntGrpAntShop",t.isCreate=!1,t.skinName="AntGrpAntShopSkin",t}return __extends(n,e),n.prototype.init=function(){this.isCreate=!0,this.showGrpList.itemRenderer=t.AntGrpAntShopItem,this.showGrpList.itemRendererSkinName="AntGrpAntShopItemSkin",this.showGrpListArr=new eui.ArrayCollection,this.showGrpList.dataProvider=this.showGrpListArr,this.initShow()},n.prototype.cacheBitMapView=function(){e.prototype.cacheBitMapView.call(this)},n.prototype.enable=function(){e.prototype.enable.call(this),e.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType),this.initShow()},n.prototype.addEvent=function(){this.infoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){switch(e.target){case this.closeBtn:this.removeUs();break;case this.infoBtn:var n=new t.AntGrpHelpView({titleSource:"ant_grp_text_help_png",docSource:"ant_grp_text_help_info_0_png"});baseContent.PanelManager.getIntance().openPanelInstance(n)}},n.prototype.initShow=function(){return __awaiter(this,void 0,void 0,function(){var e,n=this;return __generator(this,function(i){return e=this,e.isCreate?(e.antCoin.text=t.AntGrpDatas.getIntance().antGrpMineInfos.mine.ant_coin+"",e.showData=t.AntGrpDatas.getIntance().shopLists,e.showData?(new Promise(function(t){n.showGrpListArr.removeAll();for(var i=0,r=e.showData.length;r>i;i++)n.showGrpListArr.addItem(e.showData[i])}),[2]):[2]):[2]})})},n.prototype.removeUs=function(){e.prototype.removeUs.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.removeEvent=function(){this.infoBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this),this.closeBtn.destroy()},n}(baseContent.BasePanel);t.AntGrpAntShop=e,__reflect(e.prototype,"ant_grp.AntGrpAntShop",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.skinName="AntGrpAntShopItemSkin",t}return __extends(n,e),n.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.config=this.data,this.init()},n.prototype.init=function(){if(this.config){var e=this.config;this.iconImg.source=t.AntGrpDatas.getIntance().gameDataInstance.getSomeOneIconStrByType(e.type),this.textOne.text=t.AntGrpDatas.getIntance().gameDataInstance.getSomeOneTitleStrByType(e.type)+"X"+e.num,0==e.limit?(this.noHaveGrp.visible=!0,this.textTwo.visible=!1):-1==e.limit?(this.noHaveGrp.visible=!1,this.textTwo.visible=!1):(this.noHaveGrp.visible=!1,this.textTwo.text="今日限购："+e.limit),this.labelTwo.text=e.price+""
}this.grpBtn.touchEnabled=!0,this.grpBtn.touchChildren=!1,this.addEvent()},n.prototype.addEvent=function(){this.grpBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this)},n.prototype.touchHanle=function(e){switch(console.log("touchHanle"),e.target){case this.grpBtn:var n=this.config;console.log("configBtn-->"+JSON.stringify(n)),t.AntGrpRequestMgr.getIntance().AntGroup_buy_C(n.id)}},n}(eui.ItemRenderer);t.AntGrpAntShopItem=e,__reflect(e.prototype,"ant_grp.AntGrpAntShopItem")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.num_=1,t.perNum_=1e5,t.className_key="AntGrpBuyXunZhangView",t.skinName="PanelBuyLaBaViewSkin",t}return __extends(n,e),n.prototype.init=function(){this.iconShow.source="panel_common_icons_json.panel_icon_ant_xunzhang_0_png",this.nameStr.text="蚂蚁勋章",this.info.text="蚂蚁团的最高荣誉，据说获得此勋章者可以获得蚂蚁团最高指挥权，创建蚂蚁团的必备道具",this.perNum_=t.AntGrpDatas.getIntance().antGrpMineInfos.ant_medal_price,this.initShow(this.num_,this.perNum_)},n.prototype.initShow=function(t,e){this.num_=1,this.showNumber.text="购买"+this.num_+"个",this.buyNum.text=this.perNum_+"",this.decBtn.enabled=!1,this.addBtn.enabled=!0},n.prototype.enable=function(){e.prototype.enable.call(this),e.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType),this.initShow(this.num_,this.perNum_)},n.prototype.addEvent=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this),this.addBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this),this.decBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this),this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this)},n.prototype.touchHanle=function(e){switch(e.target){case this.closeBtn:this.removeUs();break;case this.addBtn:this.num_+=1,this.num_>=10&&(this.num_=10,this.addBtn.enabled=!1),this.perNum_=this.perNum_+1e5,this.showNumber.text="购买"+this.num_+"个",this.buyNum.text=this.perNum_+"",this.num_>1&&(this.decBtn.enabled=!0);break;case this.decBtn:this.num_=this.num_-1,this.perNum_-=1e5,this.num_<=1&&(this.num_=1,this.perNum_=1e5,this.decBtn.enabled=!1),this.num_<10&&(this.addBtn.enabled=!0),this.showNumber.text="购买"+this.num_+"个",this.buyNum.text=this.perNum_+"";break;case this.buyBtn:t.AntGrpRequestMgr.getIntance().AntGroup_buyAntMedal_C(this.num_),this.removeUs()}},n.prototype.removeUs=function(){this.num_=10,this.perNum_=1e5,e.prototype.removeUs.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.removeEvent=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this),this.addBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this),this.decBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this),this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this),this.closeBtn.destroy()},n}(baseContent.BasePanel);t.AntGrpBuyXunZhangView=e,__reflect(e.prototype,"ant_grp.AntGrpBuyXunZhangView",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.className_key="AntGrpChangeGroupNameView",t.skinName="AntGrpChangeGroupNameViewSkin",t}return __extends(n,e),n.prototype.enable=function(){e.prototype.enable.call(this),e.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType,this.initShow)},n.prototype.init=function(){this.initShow()},n.prototype.initShow=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(n){return e=this,e.zNum.text="X"+t.AntGrpDatas.getIntance().gameDataInstance.user_info.ant_medal,t.AntGrpDatas.getIntance().antGrpMineInfos.group&&t.AntGrpDatas.getIntance().antGrpMineInfos.group.group_name?e.textNameText.text=t.AntGrpDatas.getIntance().antGrpMineInfos.group.group_name+"":e.textNameText.text="",[2]})})},n.prototype.changeZhang=function(){var e=this;e.zNum.text="X"+t.AntGrpDatas.getIntance().gameDataInstance.user_info.ant_medal},n.prototype.addEvent=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.sendBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){switch(e.target){case this.closeBtn:this.removeUsFromParent();break;case this.sendBtn:if(t.AntGrpDatas.getIntance().gameDataInstance.user_info.ant_medal<1)return void baseContent.PanelManager.getIntance().openTypeIntance(t.AntGrpBuyXunZhangView);var n=this.textNameText.text.trim();t.AntGrpRequestMgr.getIntance().AntGroup_editGroupName_C(n),this.removeUsFromParent()}},n.prototype.removeEvent=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.sendBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(baseContent.BasePanel);t.AntGrpChangeGroupNameView=e,__reflect(e.prototype,"ant_grp.AntGrpChangeGroupNameView",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.className_key="AntGrpChatJuBao",n.showInfo=t,n.skinName="PanelChatJuBaoSkin",n}return __extends(n,e),n.prototype.init=function(){this.initShow(this.showInfo)},n.prototype.initShow=function(t){this.showInfo=t;var e=[];e=[{text:"确定要举报",style:{bold:!0,textColor:"0x75472B"}},{text:this.showInfo.user_name,style:{bold:!0,textColor:"0xCA5500"}},{text:"吗?",style:{bold:!0,textColor:"0x75472B"}}],this.name_text.textFlow=e},n.prototype.enable=function(){e.prototype.enable.call(this),e.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.addEvent=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this),this.sureBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this)},n.prototype.touchHanle=function(e){switch(e.target){case this.closeBtn:this.destroy();break;case this.sureBtn:commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.beJbEvent,this.showInfo.uid),t.AntGrpRequestMgr.getIntance().Chat_reportingUser_C(this.showInfo.uid),this.destroy()}},n.prototype.removeEvent=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this),this.sureBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHanle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(baseContent.BasePanel);t.AntGrpChatJuBao=e,__reflect(e.prototype,"ant_grp.AntGrpChatJuBao",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.className_key="AntGrpCheckTipsView",n.info_=e.infos,n.type_=e.type_,n.sureBtnCallFuc=e.sureBtnCallFuc,n.skinName="AntGrpCheckTipsViewSkin",n}return __extends(e,t),e.prototype.enable=function(){t.prototype.enable.call(this),t.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType)},e.prototype.init=function(){this.initShow()},e.prototype.initShow=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(t=this,t.info.textFlow=t.info_,this.type_){case 0:this.cancelBtn.visible=!1,this.sureBtn.horizontalCenter=0;break;case 1:this.cancelBtn.visible=!0,this.cancelBtn.horizontalCenter=-110,this.sureBtn.horizontalCenter=110}return[2]})})},e.prototype.addEvent=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.sureBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.cancelBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},e.prototype.touchHandle=function(t){switch(t.target){case this.closeBtn:this.destroy();break;case this.sureBtn:this.sureBtnCallFuc(),this.destroy();break;case this.cancelBtn:this.destroy()}},e.prototype.removeEvent=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.sureBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.cancelBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(baseContent.BasePanel);t.AntGrpCheckTipsView=e,__reflect(e.prototype,"ant_grp.AntGrpCheckTipsView",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.className_key="AntGrpCyzmView",t.skinName="AntGrpCyzmViewSkin",t}return __extends(n,e),n.prototype.enable=function(){e.prototype.enable.call(this),e.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.removeUs=function(){e.prototype.removeUs.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.init=function(){var e=this;this.textDocText.addEventListener(egret.Event.CHANGE,function(){e.textNum.text=e.textDocText.text.length+"/46"},this),this.labaNum.text="x"+t.AntGrpDatas.getIntance().gameDataInstance.user_info.trumpet},n.prototype.addEvent=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.sendBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){switch(e.target){case this.closeBtn:this.destroy();break;case this.sendBtn:var n=this.textDocText.text.trim();0==n.length?n="快来加入！":0,t.AntGrpRequestMgr.getIntance().Chat_sendWorldMsg_C(n),this.destroy()}},n.prototype.removeEvent=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.sendBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.destroy=function(){this.closeBtn.destroy(),e.prototype.destroy.call(this)},n}(baseContent.BasePanel);t.AntGrpCyzmView=e,__reflect(e.prototype,"ant_grp.AntGrpCyzmView",["baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(t,n,i){var r=e.call(this)||this;return r.className_key="AntGrpDailyBenefitsInfoView",r.sure_appenddix_=t,r.random_appenddix_=n,r.indexPoint_=i,r.skinName="AntGrpDailyBenefitsInfoViewSkin",r}return __extends(n,e),n.prototype.enable=function(){e.prototype.enable.call(this),this.rectImg.visible=!1,e.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.init=function(){this.initShow()},n.prototype.initShow=function(){return __awaiter(this,void 0,void 0,function(){var e,n,i;return __generator(this,function(r){if(e=this,e.grpCenter.anchorOffsetX=200,e.grpCenter.anchorOffsetY=180,e.grpCenter.x=e.indexPoint_.x,e.grpCenter.y=e.indexPoint_.y,e.sure_appenddix_&&(e.sure_appenddix_[0].type+""=="1"?e.iconB.source="panel_common_icons_json.game_icon_nengliang_1_png":e.iconB.source=t.AntGrpDatas.getIntance().gameDataInstance.getSomeOneIconStrByType(e.sure_appenddix_[0].type),e.iconNum.text="X"+e.sure_appenddix_[0].num),e.random_appenddix_)for(e.glGrp.removeChildren(),n=0;n<e.random_appenddix_.length;n++)i=e.getBoxGrp(e.random_appenddix_[n]),e.glGrp.addChild(i);return[2]})})},n.prototype.getBoxGrp=function(e){var n=new eui.Group,i=new eui.Image;return e.type+""=="1"?i.source="panel_common_icons_json.game_icon_nengliang_1_png":i.source=t.AntGrpDatas.getIntance().gameDataInstance.getSomeOneIconStrByType(e.type),i.horizontalCenter=i.verticalCenter=0,n.addChild(i),n},n.prototype.addEvent=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.destroy,this)},n.prototype.removeEvent=function(){},n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(baseContent.BasePanel);t.AntGrpDailyBenefitsInfoView=e,__reflect(e.prototype,"ant_grp.AntGrpDailyBenefitsInfoView",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.className_key="AntGrpDailyBenefitsView",t.skinName="AntGrpDailyBenefitsViewSkin",t}return __extends(n,e),n.prototype.enable=function(){e.prototype.enable.call(this),e.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.init=function(){this.initShow()},n.prototype.initShow=function(){return __awaiter(this,void 0,void 0,function(){var e,n,i,r,o,a,s,p,r,c;return __generator(this,function(h){if(e=this,t.AntGrpDatas.getIntance().mrflInfo){for(n=t.AntGrpDatas.getIntance().mrflInfo,e.sendBtn.enabled=0==n.sign_status,i=void 0,i=[{text:"您的蚂蚁团上周的活跃等级为",style:{bold:!0,textColor:"0xCC6A00"}},{text:n.last_act_level+"",style:{bold:!0,textColor:"0xff0000"}},{text:"级",style:{bold:!0,textColor:"0xCC6A00"}}],this.last_act_level.textFlow=i,r=0,o=e.sign_award_grp.numChildren,a=n.sign_award.length;o>r;r++)a>r?(s=e.sign_award_grp.getChildAt(r),s.getChildByName("iconImg").source=t.AntGrpDatas.getIntance().gameDataInstance.getSomeOneIconStrByType(n.sign_award[r].type),s.getChildByName("iconNum").text=commonUtils.NumberTool.getSoceNumberStr(parseInt(n.sign_award[r].num))):e.sign_award_grp.removeChildAt(r);for(e.group_sign_num.text=n.group_sign_num+"",e.qdText.text=n.last_act_level+"级签到奖励",0==n.group_sign_num?e.barImg.visible=!1:(e.barImg.visible=!0,e.barImg.width=520*(n.group_sign_num/20),e.barImg.width<28&&(e.barImg.width=28)),e.barGrp.x=1+520*(n.group_sign_num/20),p=["mx","jx","cx"],r=0;3>r;r++)c=e.boxInfoGrp.getChildAt(r),c.getChildByName("boxImg").source="ant_grp_mrfl_img_"+p[r]+"_"+(1==n.chuqin[r].status?"o":"c")+"_png",c.getChildAt(1).source=0==n.chuqin[r].status?"ant_grp_mrfl_tex_json.ant_grp_mrfl_img_bar_ds_png":"ant_grp_mrfl_tex_json.ant_grp_mrfl_img_bar_ds_a_png"}return[2]})})},n.prototype.addEvent=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.sendBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.infoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this);for(var t=0;3>t;t++){var e=this.boxInfoGrp.getChildAt(t);e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this)}},n.prototype.touchHandle=function(e){switch(e.target){case this.closeBtn:this.destroy();break;case this.sendBtn:t.AntGrpRequestMgr.getIntance().AntGroup_signIn_C();break;case this.infoBtn:var n=new t.AntGrpHelpView({titleSource:"ant_grp_mrfl_text_flsm_png",docSource:"ant_grp_mrfl_text_info_fl_png"});baseContent.PanelManager.getIntance().openPanelInstance(n)}},n.prototype.openBox=function(e){var n=e.target.parent,i=this.boxInfoGrp.getChildIndex(n),r=t.AntGrpDatas.getIntance().mrflInfo;if(r.group_sign_num>=5*i+5&&0==r.chuqin[i].status)t.AntGrpRequestMgr.getIntance().AntGroup_chuqin_C(r.chuqin[i].id);else{if(1==r.chuqin[i].status)return;var o=new egret.Point;o=n.parent.localToGlobal(n.x+n.width/2+40,n.y+50,o);var a=new t.AntGrpDailyBenefitsInfoView(r.chuqin[i].sure_appenddix,r.chuqin[i].random_appenddix,o);baseContent.PanelManager.getIntance().openPanelInstance(a)}},n.prototype.removeEvent=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.sendBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.infoBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this);for(var t=0;3>t;t++){var e=this.boxInfoGrp.getChildAt(t);e.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this)}},n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(baseContent.BasePanel);t.AntGrpDailyBenefitsView=e,__reflect(e.prototype,"ant_grp.AntGrpDailyBenefitsView",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.skinName="AntGrpGroupMemberItemViewSkin",t}return __extends(n,e),n.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.data&&(this.config=this.data,this.initShow())},n.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.initShow(),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.enterEdit,this)},n.prototype.enterEdit=function(){if(this.config.uid==t.AntGrpDatas.getIntance().gameDataInstance.user_info.id)return void t.AntGrpDatas.getIntance().tipsUtil.showTip("这是你自己哦！");var e=new egret.Point;e=this.parent.localToGlobal(this.x+.55*this.width,this.y+this.height/2,e);var n=["true","null","null","true"],i=t.AntGrpDatas.getIntance().antGrpMineInfos.mine;switch(i.job){case 0:n=["true","null","null","true"];break;case 1:n=["true","null","null","true"];break;case 2:n=3!=this.config.job&&2!=this.config.job?["true","true","true","true"]:["true","null","null","true"];break;case 3:n=["true","true","true","true"]}var r=new t.AntGrpMemberInfoView({indexPoint:e,admin:n});r.config=this.config,baseContent.PanelManager.getIntance().openPanelInstance(r)},n.prototype.initShow=function(){var t=this;if(this.config){switch(t.head.setHEHead(t.config.avatar),t.nickName.text=commonUtils.StringTool.getShortStrAtByte(t.config.user_name+"",24),t.startNum.text=t.config.star_num+"",t.config.sex+""=="1"?t.sexImg.source="panel_haoyou_tex_json.panel_haoyou_icon_boy_png":t.sexImg.source="panel_haoyou_tex_json.panel_haoyou_icon_girl_png",t.config.job){case 3:t.job.textColor=16727614,t.job.text="【团长】";break;case 2:t.job.textColor=16743936,t.job.text="【副团长】";break;case 1:t.job.textColor=4168960,t.job.text="【精英】";break;default:t.job.textColor=1218267,t.job.text="【团员】"}t.actStr.text="本周活跃度："+t.config.act_num,t.info.text="上次活跃   "+t.config.last_act_time}},n}(eui.ItemRenderer);t.AntGrpGroupMemberItemView=e,__reflect(e.prototype,"ant_grp.AntGrpGroupMemberItemView")}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.className_key="AntGrpGroupMemberView",t.isCreate=!1,t.skinName="AntGrpGroupMemberViewSkin",t}return __extends(n,e),n.prototype.enable=function(){e.prototype.enable.call(this),this.initShow(),e.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.init=function(){this.memberListArr||(this.memberListArr=new eui.ArrayCollection,this.memberList.dataProvider=this.memberListArr,this.memberList.itemRenderer=t.AntGrpGroupMemberItemView,this.memberList.itemRendererSkinName="AntGrpGroupMemberItemViewSkin"),this.isCreate=!0,this.initShow()},n.prototype.initShow=function(){return __awaiter(this,void 0,void 0,function(){var e,n;return __generator(this,function(i){return e=this,e.isCreate&&t.AntGrpDatas.getIntance().goupMemberListInfo&&t.AntGrpDatas.getIntance().redConfig?(e.sqlbBtn.redImg.visible=t.AntGrpDatas.getIntance().redConfig.antGrpAddGrpMsgBtn,n=t.AntGrpDatas.getIntance().goupMemberListInfo.member,[2,new Promise(function(i){e.memberInfo.text="成员人数：\n   "+t.AntGrpDatas.getIntance().antGrpMineInfos.group.mem_num+"/"+t.AntGrpDatas.getIntance().antGrpMineInfos.group.max_mem_num+"   ",e.memberListArr.removeAll();for(var r=0,o=n.length;o>r;r++)e.memberListArr.addItem(n[r])})]):[2]})})},n.prototype.addEvent=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.cyzmBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.sqlbBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.tcmytBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){switch(e.target){case this.closeBtn:this.removeUsFromParent();break;case this.cyzmBtn:baseContent.PanelManager.getIntance().openTypeIntance(t.AntGrpCyzmView);break;case this.sqlbBtn:t.AntGrpRequestMgr.getIntance().AntGroup_getApplyList_C();break;case this.tcmytBtn:var n=[{text:"你确定退出蚂蚁团吗？\n退团会清掉你本周贡献的活跃度",style:{size:20,textColor:"0x4A251C",fontFamily:"Microsoft YaHei"}}];baseContent.PanelManager.getIntance().openTypeIntance(t.AntGrpCheckTipsView,{infos:n,type_:0,sureBtnCallFuc:t.AntGrpRequestMgr.getIntance().AntGroup_quitGroup_C})}},n.prototype.removeEvent=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.cyzmBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.sqlbBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.tcmytBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(baseContent.BasePanel);t.AntGrpGroupMemberView=e,__reflect(e.prototype,"ant_grp.AntGrpGroupMemberView",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.className_key="AntGrpHelpView",n.infoData=e,n.skinName="AntGrpHelpViewSkin",n}return __extends(e,t),e.prototype.enable=function(){t.prototype.enable.call(this),t.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType)},e.prototype.removeUs=function(){t.prototype.removeUs.call(this,baseContent.PanelMoveType.scaleType)},e.prototype.init=function(){this.titleImg.source=this.infoData.titleSource,this.docImg.source=this.infoData.docSource},e.prototype.addEvent=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},e.prototype.touchHandle=function(t){switch(t.target){case this.closeBtn:this.destroy()}},e.prototype.removeEvent=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},e.prototype.destroy=function(){this.closeBtn.destroy(),t.prototype.destroy.call(this)},e}(baseContent.BasePanel);t.AntGrpHelpView=e,__reflect(e.prototype,"ant_grp.AntGrpHelpView",["baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.className_key="AntGrpJobView",n.config_=t,n.skinName="AntGrpJobViewSkin",n}return __extends(n,e),Object.defineProperty(n.prototype,"config",{get:function(){return this.config_},set:function(t){this.config_=t,this.initShowJobNumInfo(),this.initShowJobInfo()},enumerable:!0,configurable:!0}),n.prototype.enable=function(){e.prototype.enable.call(this),e.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.init=function(){this.initShowJobNumInfo(),this.initShowJobInfo()},n.prototype.initShowJobInfo=function(){for(var t=1;5>t;t++){var e=this.infoGrp.getChildAt(5-t),n=e.getChildAt(3),i=n.getChildByName("btnImg"),r=n.getChildByName("textImg");t-1==this.config.job?(n.touchEnabled=!1,i.source="ant_grp_img_dqzw_png",r.source=""):(n.touchEnabled=!0,4==t?(i.source="panel_common_someBtn_json.panel_common_type14_1_png",r.source="ant_grp_zhuanrang_type0_png"):(i.source="panel_common_someBtn_json.panel_common_type14_1_png",r.source="ant_grp_biangeng_type0_png"))}},n.prototype.initShowJobNumInfo=function(){return __awaiter(this,void 0,void 0,function(){var e,n,i,r,o,a,a,s,p;return __generator(this,function(c){for(e=this,n=[0,0,0,0],i=[0,5,2,1],r=["团员","精英","副团长","团长"],o=t.AntGrpDatas.getIntance().goupMemberListInfo.member,a=0;a<o.length;a++)n[o[a].job]+=1;for(a=1;5>a;a++)s=this.infoGrp.getChildAt(5-a),p=s.getChildAt(1),a>1?p.text=r[a-1]+"("+n[a-1]+"/"+i[a-1]+")":p.text=r[a-1];return[2]})})},n.prototype.addEvent=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.tzBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.ftBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.jyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.tyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){switch(e.target){case this.closeBtn:this.destroy();break;case this.tzBtn:t.AntGrpRequestMgr.getIntance().AntGroup_changeJob_C(this.config.uid,3),this.destroy();break;case this.ftBtn:t.AntGrpRequestMgr.getIntance().AntGroup_changeJob_C(this.config.uid,2),this.destroy();break;case this.jyBtn:t.AntGrpRequestMgr.getIntance().AntGroup_changeJob_C(this.config.uid,1),this.destroy();break;case this.tyBtn:t.AntGrpRequestMgr.getIntance().AntGroup_changeJob_C(this.config.uid,0),this.destroy()}},n.prototype.removeEvent=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.tzBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.ftBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.jyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.tyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(baseContent.BasePanel);t.AntGrpJobView=e,__reflect(e.prototype,"ant_grp.AntGrpJobView",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.className_key="AntGrpMemberInfoView",n.indexPoint_=t.indexPoint,n.admin=t.admin,n.skinName="AntGrpMemberInfoViewSkin",n}return __extends(n,e),n.prototype.enable=function(){e.prototype.enable.call(this),this.rectImg.visible=!1,e.prototype.showEnter.call(this,baseContent.PanelMoveType.scaleType)},n.prototype.init=function(){var t=this,e=function(){t.bottomImg.height=t.grpCenter.height/2+30,t.grpCenter.anchorOffsetY=t.topImg.height=t.grpCenter.height/2,t.grpCenter.removeEventListener(eui.UIEvent.RESIZE,e,this)};this.grpCenter.addEventListener(eui.UIEvent.RESIZE,e,this),this.initShow()},n.prototype.initShow=function(){return __awaiter(this,void 0,void 0,function(){var t,e,n,n,i;return __generator(this,function(r){for(t=this,e=2,n=0;n<t.admin.length;n++)"null"==t.admin[n]?t.grpCenter.removeChildAt(e):e++;for(n=0,i=t.grpCenter.numChildren-2;i>n;n++)t.grpCenter.getChildAt(2+n).y=50+60*n;return t.grpCenter.x=t.indexPoint_.x,t.grpCenter.y=t.indexPoint_.y,[2]})})},n.prototype.addEvent=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)},n.prototype.touchHandle=function(e){var n=this;switch(e.target){case this.infoBtn:commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.MiwuZheDangEvent,!0),egret.setTimeout(function(){n.destroy();baseContent.PanelManager.getIntance().removeChildren(),commonUtils.EventMananger.getIntance().sendEvent(t.AntGrpEvent.CloseShowChaoPing,!0),t.AntGrpRequestMgr.getIntance().User_visitUser_C(n.config.uid)},this,750);break;case this.jobBtn:this.destroy();var i=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpJobView");if(i){i.config=this.config;break}baseContent.PanelManager.getIntance().openTypeIntance(t.AntGrpJobView,this.config);break;case this.exitBtn:var r=[{text:"确定将",style:{size:20,textColor:"0x4A251C",fontFamily:"Microsoft YaHei"}},{text:this.config.user_name,style:{size:20,textColor:"0xCC6A00",fontFamily:"Microsoft YaHei"}},{text:"开除蚂蚁团吗？\n开除后会清空",style:{size:20,textColor:"0x4A251C",fontFamily:"Microsoft YaHei"}},{text:this.config.user_name,style:{size:20,textColor:"0xCC6A00",fontFamily:"Microsoft YaHei"}},{text:"本周所贡献的活动度",style:{size:20,textColor:"0x4A251C",fontFamily:"Microsoft YaHei"}}],o=this.config.uid;baseContent.PanelManager.getIntance().openTypeIntance(t.AntGrpCheckTipsView,{infos:r,type_:0,sureBtnCallFuc:function(){t.AntGrpRequestMgr.getIntance().AntGroup_fire_C(o)}}),this.destroy();break;case this.addBtn:var a=new t.AntGrpAddHaoYouYanZhengView;a.uid=this.config.uid,baseContent.PanelManager.getIntance().openPanelInstance(a);break;default:this.destroy()}},n.prototype.removeEvent=function(){},n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(baseContent.BasePanel);t.AntGrpMemberInfoView=e,__reflect(e.prototype,"ant_grp.AntGrpMemberInfoView",["baseContent.IPanel","baseContent.IObj"])}(ant_grp||(ant_grp={}));var ant_grp;!function(t){var e=function(){function e(){this.addConditonArr=["允许任何人加入","需要申请加入","禁止任何人加入"],this.reportingUserIdS=new HashMap}return e.getIntance=function(){return e.instance_||(e.instance_=new e),e.instance_},Object.defineProperty(e.prototype,"redConfig",{get:function(){return this.redConfig_},set:function(e){var n=function(t,e){for(var i in e)e[""+i]instanceof Object?n(t[""+i],e[""+i]):t[""+i]=e[""+i]};t.AntGrpDatas.getIntance().redConfig_?n(t.AntGrpDatas.getIntance().redConfig_,e):t.AntGrpDatas.getIntance().redConfig_=e;var i=baseContent.PanelManager.getIntance().getPenelByPanelKey("AntGrpView");i&&i.showSomeRedConfig()},enumerable:!0,configurable:!0}),e}();t.AntGrpDatas=e,__reflect(e.prototype,"ant_grp.AntGrpDatas");var n=function(){function t(){}return t}();t.AntGrpListInfo=n,__reflect(n.prototype,"ant_grp.AntGrpListInfo");var i=function(){function t(){}return t}();t.AntGrpInfo=i,__reflect(i.prototype,"ant_grp.AntGrpInfo");var r=function(){function t(){}return t}();t.AntGrpMineInfo=r,__reflect(r.prototype,"ant_grp.AntGrpMineInfo");var o=function(){function t(){}return t}();t.AntGrpChatListItemInfo=o,__reflect(o.prototype,"ant_grp.AntGrpChatListItemInfo");var a=function(){function t(){}return t}();t.Task=a,__reflect(a.prototype,"ant_grp.Task");var s=function(){function t(){}return t}();t.MemberInfo=s,__reflect(s.prototype,"ant_grp.MemberInfo");var p=function(){function t(){}return t}();t.ChuQinInfo=p,__reflect(p.prototype,"ant_grp.ChuQinInfo");var c=function(){function t(){}return t}();t.AntGrpAntShopItemInfo=c,__reflect(c.prototype,"ant_grp.AntGrpAntShopItemInfo");var h=function(){function t(){}return t}();t.AntGrpAddGrpMstItemInfo=h,__reflect(h.prototype,"ant_grp.AntGrpAddGrpMstItemInfo");var u=function(){function t(){this.antGrpBtn=0,this.antGrpChatBtn=0,this.antGrpAddGrpMsgBtn=0,this.antGrpAssBtn=0,this.antGrpDailyBtn=0}return t}();t.AntGrpRedConfig=u,__reflect(u.prototype,"ant_grp.AntGrpRedConfig")}(ant_grp||(ant_grp={}));;window.ant_grp = ant_grp