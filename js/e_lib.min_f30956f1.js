var egret = window.egret;var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);n.prototype=e.prototype,t.prototype=new n},__awaiter=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{l(o.next(t))}catch(e){r(e)}}function a(t){try{l(o["throw"](t))}catch(e){r(e)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}l((o=o.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return o([t,e])}}function o(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,r&&(s=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,r=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){l.label=n[1];break}if(6===n[0]&&l.label<s[1]){l.label=s[1],s=n;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(n);break}s[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(o){n=[6,o],r=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,r,s,a,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},baseContent;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.config=function(t,e,n){var o=util.LoadSomeUtil.LoadJsonRes(t),i=util.LoadSomeUtil.LoadJsonRes(e),r=new egret.MovieClipDataFactory(o,i);this.movieClipData=r.generateMovieClipData(n)},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e.prototype.destoryMe=function(){this.stop(),this.hide()},e}(egret.MovieClip);t.BaseMovieClip=e,__reflect(e.prototype,"baseContent.BaseMovieClip")}(baseContent||(baseContent={}));var commonUtils;!function(t){var e=function(){function t(t){this.className=t,this.init()}return t.prototype.init=function(){this.listArrObjs=[]},t.getPool=function(e){return new t(e)},t.prototype.getOneObj=function(){if(this.listArrObjs.length>0)return this.listArrObjs.shift();var t=egret.getDefinitionByName(this.className);return this.listArrObjs.push(new t),this.listArrObjs.shift()},t.prototype.recoveryObj=function(t){this.listArrObjs.push(t)},t.prototype.destory=function(){for(var t=0,e=this.listArrObjs.length;e>t;t++)try{var n=this.listArrObjs[t];n.destory()}catch(o){break}this.listArrObjs=null},t}();t.ObjectPool=e,__reflect(e.prototype,"commonUtils.ObjectPool")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.ClickButton="ClickButton",e}(egret.Event);t.GlobalEvent=e,__reflect(e.prototype,"commonUtils.GlobalEvent")}(commonUtils||(commonUtils={}));var baseContent;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.name="AppContent",t.top=t.bottom=t.left=t.right=0,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.addStageCall,t),t}return __extends(n,e),n.prototype.addStageCall=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStageCall,this),this.init()},n.prototype.init=function(){this.addChild(t.LayerMgr.getIntance()),commonUtils.StageUtils.getIntance().stage=this.stage,this.stage.$touchEnabled=!1,commonUtils.StageUtils.getIntance().fitScreen()},n}(eui.UILayer);t.AppContent=e,__reflect(e.prototype,"baseContent.AppContent")}(baseContent||(baseContent={}));var baseContent;!function(t){var e=function(e){function o(t){void 0===t&&(t=null);var n=e.call(this)||this;return n.rectImgSource="panel_common_context_json.panel_common_bg_rect_png",n.recData=t,n.onShowAnimation=!1,n.top=n.bottom=n.right=n.left=0,n.once(egret.Event.ADDED_TO_STAGE,n.cacheBitMapView,n),n.addEventListener(egret.Event.ADDED_TO_STAGE,n.addStageCall,n),n}return __extends(o,e),o.prototype.addStageCall=function(){this.enable()},o.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.closeImg&&viewTool.GameSomeAnimationUitl.addCloseAnimation(this.closeImg),this.init()},o.prototype.showEnter=function(e,o,i){void 0===o&&(o=null),void 0===i&&(i=this);var r=this;if(r.onShowAnimation=!0,r.callFc=o,r.callObj=i,r.grpCenter)switch(e){case n.msgType:r.grpCenter.bottom=-250,egret.Tween.get(r.grpCenter).to({bottom:0},500,egret.Ease.sineIn).call(this.showEndCallFunc,this).call(function(){r.grpCenter.bottom=0,egret.Tween.removeTweens(r.grpCenter)},r);break;case n.downType:t.PanelManager.getIntance().soundManager.playPanelOpen(),viewTool.GameSomeAnimationUitl.addSomePanelEnterAnimation(this.grpCenter,this.showEndCallFunc,this);break;case n.scaleType:t.PanelManager.getIntance().soundManager.playPanelOpen(),commonUtils.AnimationUtil.showSomeOneScaleAnimation(this.grpCenter,0,1,500,egret.Ease.backOut,this.showEndCallFunc,this);break;default:this.showEndCallFunc()}},o.prototype.showEndCallFunc=function(){var t=this;t.onShowAnimation=!1,t.callFc&&(t.callFc.call(t),t.callFc=null)},o.prototype.cacheBitMapView=function(){},o.prototype.removeUs=function(e){var o=this;this.removeEvent();var i=this;switch(egret.Tween.removeTweens(i),e){case n.msgType:egret.Tween.get(i.grpCenter).to({bottom:-250},500,egret.Ease.sineIn).call(function(){i.grpCenter.bottom=-250,egret.Tween.removeTweens(i.grpCenter),o.removeUsFromParent()});break;case n.downType:viewTool.GameSomeAnimationUitl.addSomePanelOutAnimation(this.grpCenter,this.removeUsFromParent,this),t.PanelManager.getIntance().soundManager.playPanelClose();break;case n.scaleType:this.removeUsFromParent(),t.PanelManager.getIntance().soundManager.playPanelClose();break;default:this.removeUsFromParent()}},o.prototype.removeUsFromParent=function(){var t=this;t.parent&&t.parent.removeChild(t)},o.prototype.enable=function(){this.rectImg||(this.rectImg=new egret.Bitmap(RES.getRes(this.rectImgSource)),this.rectImg.scale9Grid=new egret.Rectangle(10,10,5,5),this.rectImg.width=commonUtils.StageUtils.getIntance().stage.stageWidth,this.rectImg.height=commonUtils.StageUtils.getIntance().stage.stageHeight,this.rectImg.x=this.rectImg.y=0,this.addChildAt(this.rectImg,0)),this.addEvent()},o.prototype.destroy=function(){var e=this;try{this.removeEvent()}catch(n){}this.closeImg&&(egret.Tween.removeTweens(this.closeImg),this.closeImg=null),t.PanelManager.getIntance().removeSomeOnePanel(e.className_key),this.removeEventListener(egret.Event.ADDED_TO_STAGE,e.addStageCall,e)},o}(eui.Component);t.BasePanel=e,__reflect(e.prototype,"baseContent.BasePanel");var n;!function(t){t[t.msgType=0]="msgType",t[t.downType=1]="downType",t[t.scaleType=2]="scaleType"}(n=t.PanelMoveType||(t.PanelMoveType={}))}(baseContent||(baseContent={}));var baseContent;!function(t){var e=function(e){function n(t){void 0===t&&(t=null);var n=e.call(this)||this;return n.recData=t,n.addEventListener(egret.Event.ADDED_TO_STAGE,n.addStageCall,n),n}return __extends(n,e),n.prototype.addStageCall=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStageCall,this),this.top=this.bottom=this.left=this.right=0,this.bg_img&&(this.bg_img.horizontalCenter=0,this.bg_img.verticalCenter=0,commonUtils.StageUtils.getIntance().showMaxSomeToStage(this.bg_img)),t.SceneLayerMgr.getIntance().removeLastScene()},n.prototype.removeUs=function(){this.parent&&this.parent.removeChild(this)},n}(eui.Component);t.BaseScene=e,__reflect(e.prototype,"baseContent.BaseScene")}(baseContent||(baseContent={}));var baseContent;!function(t){var e=function(e){function n(t){void 0===t&&(t=null);var n=e.call(this)||this;return n.top=n.bottom=n.left=n.right=0,n.gameConfig=t,n.addEventListener(egret.Event.ADDED_TO_STAGE,n.addStageCall,n),n}return __extends(n,e),n.prototype.addStageCall=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStageCall,this),commonUtils.StageUtils.getIntance().stage?this.parent.removeChild(this):(this.addChild(t.LayerMgr.getIntance()),commonUtils.StageUtils.getIntance().stage=this.stage,commonUtils.StageUtils.getIntance().fitScreen())},n.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},n.prototype.init=function(){this.addEvent()},n.prototype.addEvent=function(){},n.prototype.removeEvent=function(){},n.prototype.destroy=function(){this.parent&&(this.removeChild(this),this.removeEvent())},n}(eui.UILayer);t.GameContent=e,__reflect(e.prototype,"baseContent.GameContent",["baseContent.IScene","baseContent.IObj"])}(baseContent||(baseContent={}));var baseContent;!function(t){var e=function(t){function e(e,n){var o=t.call(this)||this;return o.loadThm(e,n),o}return __extends(e,t),e.prototype.loadThm=function(t,e){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(o){switch(o.label){case 0:return[4,commonUtils.ResUtils.getInstance().loadTheme(t,e)];case 1:return n=o.sent(),console.log(n),[2]}})})},e}(eui.Component);t.ModuleContent=e,__reflect(e.prototype,"baseContent.ModuleContent")}(baseContent||(baseContent={}));var baseContent;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.bufferviews={},e.touchEnabled=!1,e.top=e.bottom=e.left=e.right=0,e.name="BufferLayerMgr",e}return __extends(e,t),e.getIntance=function(){return e.instance_||(e.instance_=new e),e.instance_},e.prototype.addBuffer=function(t,e){if(void 0===e&&(e=null),this.bufferviews[t])return void(this.bufferviews[t].parent||this.addChild(this.bufferviews[t]));var n=egret.getDefinitionByName(t),o=new n(e);this.addChild(o),this.bufferviews[t]=o},e.prototype.removeBuffer=function(t){return this.bufferviews[t]&&this.bufferviews[t].parent?void this.removeChild(this.bufferviews[t]):void 0},e.prototype.destroyBuffer=function(t){this.bufferviews[t]&&(this.bufferviews[t].parent&&this.removeChild(this.bufferviews[t]),this.bufferviews[t]=null)},e}(eui.UILayer);t.BufferLayerMgr=e,__reflect(e.prototype,"baseContent.BufferLayerMgr")}(baseContent||(baseContent={}));var baseContent;!function(t){var e=function(){function e(){}return e.enterGame=function(e){var n=e,o=function(){console.log("ok");var e=egret.getDefinitionByName(n.mainName);t.SceneLayerMgr.getIntance().addScene(e,n)},i=function(t,e){var n=document.createElement("script");n.async=!1,n.src=t+"?="+Math.random(),n.addEventListener("load",function(){n.parentNode.removeChild(n),e()},!1),document.body.appendChild(n)},r=[n.sourcePrefix+n.mainJs,n.sourcePrefix+n.resSource],s=0,a=function(){s<r.length?i(r[s],function(){s++,a()}):o()};a()},e.exitGame=function(){t.SceneLayerMgr.getIntance().addScene(e.lobbyScene)},e}();t.GameMgr=e,__reflect(e.prototype,"baseContent.GameMgr")}(baseContent||(baseContent={}));var baseContent;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.top=t.bottom=t.left=t.right=0,t.name="LayerMgr",t}return __extends(n,e),n.getIntance=function(){return n.instance_||(n.instance_=new n),n.instance_},n.prototype.init=function(){this.initLayer()},n.prototype.initLayer=function(){this.addChild(t.SceneLayerMgr.getIntance()),this.addChild(t.PanelManager.getIntance()),this.addChild(t.LoadingLayerMgr.getIntance()),this.addChild(t.BufferLayerMgr.getIntance())},n.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},n}(eui.UILayer);t.LayerMgr=e,__reflect(e.prototype,"baseContent.LayerMgr")}(baseContent||(baseContent={}));var baseContent;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.touchEnabled=!1,e.top=e.bottom=e.left=e.right=0,e.name="LoadingLayerMgr",e}return __extends(e,t),e.getIntance=function(){return e.instance_||(e.instance_=new e),e.instance_},e.prototype.addLoadingInstance=function(t){if(this.numChildren>0){var e=this.getChildAt(0);e.destroy()}this.addChild(t)},e.prototype.showLoadingView=function(){if(this.numChildren>0){var t=this.getChildAt(0);t.visible=!0}},e.prototype.hiddLoadingView=function(){if(this.numChildren>0){var t=this.getChildAt(0);t.visible=!1}},e.prototype.removeLoaingFromObj=function(){if(this.numChildren>0){var t=this.getChildAt(0);t.destroy()}},e}(eui.UILayer);t.LoadingLayerMgr=e,__reflect(e.prototype,"baseContent.LoadingLayerMgr")}(baseContent||(baseContent={}));var baseContent;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.touchEnabled=!1,e.top=e.bottom=e.left=e.right=0,e.panelList={},e.name="PanelManager",e}return __extends(e,t),e.getIntance=function(){return e.instance_||(e.instance_=new e),e.instance_},e.prototype.openTypeIntance=function(t,e){void 0===e&&(e=null);var n=t.toString();n=null==n.split('className_key="')[1]?n.split('className_key = "')[1]:n.split('className_key="')[1],n=n.split('"')[0];var o=this.panelList[n];if(o)return this.addChild(o),o;var i=new t(e);return this.addChild(i),this.panelList[n]=i,i},e.prototype.getPenelByPanelKey=function(t){return this.panelList[t]},e.prototype.openPanelInstance=function(t){var e=t.className_key,n=this.panelList[e];n?this.addChild(n):(this.addChild(t),this.panelList[e]=t)},e.prototype.removeSomeOnePanel=function(t,n){void 0===n&&(n=null),console.log("移除弹窗-->"+t);var o=e.getIntance().panelList[t];o&&o.parent&&o.removeUsFromParent(),e.getIntance().panelList[t]=null,o=null,n&&n.triggerGC()},e}(eui.UILayer);t.PanelManager=e,__reflect(e.prototype,"baseContent.PanelManager")}(baseContent||(baseContent={}));var baseContent;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.top=e.bottom=e.left=e.right=0,e.name="SceneLayerMgr",e}return __extends(e,t),e.getIntance=function(){return e.instance_||(e.instance_=new e),e.instance_},e.prototype.removeLastScene=function(t){if(void 0===t&&(t=null),this.numChildren>1){var e=this.getChildAt(0);e.destroy(),e=null,t&&t.triggerGC()}},e.prototype.getCurrenScene=function(){return this.currenScene},e.prototype.addScene=function(t,e){void 0===e&&(e=null);var n=new t(e);return this.addChild(n),this.currenScene=n,n},e.prototype.addSceneIntance=function(t){this.addChild(t)},e}(eui.UILayer);t.SceneLayerMgr=e,__reflect(e.prototype,"baseContent.SceneLayerMgr")}(baseContent||(baseContent={}));var net;!function(t){var e=function(){function t(){}return t.prototype.get=function(t,e,n,o){var i=JSON.stringify(e);console.log("get url:"+t);var r=new egret.HttpRequest;r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.open(t,egret.HttpMethod.GET),r.once(egret.Event.COMPLETE,function(t){var e=t.currentTarget;console.log("requet.response:"+e.response);var i=JSON.parse(e.response);n.call(o,i)},this),r.once(egret.IOErrorEvent.IO_ERROR,function(t){console.log("error : event="+t);var e=t.currentTarget,i=JSON.parse(e.response);n.call(o,i)},this),r.send(i)},t.prototype.post=function(t,e,n,o){var i=JSON.stringify(e);console.log("post url:"+t);var r=new egret.HttpRequest;r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.open(t,egret.HttpMethod.POST),r.once(egret.Event.COMPLETE,function(t){var e=t.currentTarget;console.log("requet.response:"+e.response);var i=JSON.parse(e.response);n.call(o,i)},this),r.once(egret.IOErrorEvent.IO_ERROR,function(t){console.log("error : event="+t);var e=t.currentTarget,i=JSON.parse(e.response);n.call(o,i)},this),r.send(i)},t}();t.HttpSender=e,__reflect(e.prototype,"net.HttpSender")}(net||(net={}));var net;!function(t){var e=function(){function t(){}return t.prototype.startWebSocketServerByUrl=function(t,e,n){if(void 0===e&&(e=egret.WebSocket.TYPE_STRING),this.connetDataType=e,egret.Capabilities.runtimeType==egret.RuntimeType.WXGAME){var o=n.connectSocket({url:t,header:{"content-type":"application/json"},method:"GET",success:function(){console.log("success")},fail:function(){console.log("fail")}});return this.socketTast=o,o.onOpen(this.onSocketOpen),o.onClose(this.onSocketClose),o.onError(this.onSocketError),void o.onMessage(this.onWXReceiveMessage)}this.socket=new egret.WebSocket;try{this.socket.type=e,this.socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.socket.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.socket.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.socket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketError,this),this.socket.connectByUrl(t)}catch(i){}},t.prototype.startWebSocketServerByIpProt=function(t,e,n){void 0===n&&(n=egret.WebSocket.TYPE_STRING),this.connetDataType=n,this.socket=new egret.WebSocket,this.socket.type=n,this.socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.socket.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.socket.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.socket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketError,this),this.socket.connect(t,e)},t.prototype.sendDataStr=function(t){var e=JSON.stringify(t),n=this;if(console.log("ws send:["+getTimeStr()+"]:"+e),egret.Capabilities.runtimeType==egret.RuntimeType.WXGAME)return void n.socketTast.send({data:e});switch(n.connetDataType){case egret.WebSocket.TYPE_STRING:n.socket.writeUTF(e),n.socket.flush();break;case egret.WebSocket.TYPE_BINARY:var o=new egret.ByteArray;o.writeUTF(e),o.position=0,n.socket.writeBytes(o,0,o.bytesAvailable),n.socket.flush()}},t.prototype.onSocketOpen=function(t){void 0===t&&(t=null),console.log("WebSocketOpen")},t.prototype.onSocketClose=function(){console.log("WebSocketClose")},t.prototype.onSocketError=function(t){void 0===t&&(t=null),console.log("WebSocketError")},t.prototype.onReceiveMessage=function(t){var e=this;switch(e.connetDataType){case egret.WebSocket.TYPE_STRING:var n=e.socket.readUTF();console.log("ws rec:["+getTimeStr()+"]:"+n),e.revMsgHandle&&e.revMsgHandle.handleMsg(n);break;case egret.WebSocket.TYPE_BINARY:var o=new egret.ByteArray;e.socket.readBytes(o);var i=o.readUTF();console.log("ws rec:["+getTimeStr()+"]:"+i),e.revMsgHandle&&e.revMsgHandle.handleMsg(i)}},t}();t.MyWebSocket=e,__reflect(e.prototype,"net.MyWebSocket")}(net||(net={}));var getTimeStr=function(){var t=new Date,e=commonUtils.DateTool.zeroShow(t.getHours())+":"+commonUtils.DateTool.zeroShow(t.getMinutes())+":"+commonUtils.DateTool.zeroShow(t.getSeconds())+"-["+t.getTime()+"]";return e},commonUtils;!function(t){var e=function(){function t(){}return t.getOneMc=function(t,e){var n=RES.getRes(t+"_json"),o=RES.getRes(t+"_png");if(!n||!o)return null;var i=new egret.MovieClipDataFactory(n,o),r=new egret.MovieClip(i.generateMovieClipData(e));return r},t.showSomeOneScaleAnimation=function(t,e,n,o,i,r,s){void 0===e&&(e=0),void 0===n&&(n=1),void 0===o&&(o=200),void 0===i&&(i=null),void 0===r&&(r=null),void 0===s&&(s=null),t.scaleX=t.scaleY=e,egret.Tween.get(t).to({scaleX:n,scaleY:n},o,i).call(function(){t.scaleX=t.scaleY=n,r&&s&&r.call(s),egret.Tween.removeTweens(t)})},t.showSomeOneMoveAnimation=function(t,e,n,o,i,r,s){void 0===e&&(e={x:0,y:0}),void 0===n&&(n={x:0,y:0}),void 0===o&&(o=200),void 0===i&&(i=null),void 0===r&&(r=null),void 0===s&&(s=null),t.x=e.x,t.y=e.y,egret.Tween.get(t).to({x:n.x,y:n.y},o,i).call(function(){t.x=n.x,t.y=n.y,r&&s&&r.call(s),egret.Tween.removeTweens(t)})},t}();t.AnimationUtil=e,__reflect(e.prototype,"commonUtils.AnimationUtil")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(){function e(){}return e.copyArray=function(t){for(var e=[],n=t.length,o=0;n>o;o++)e[o]=t[o];return e},e.sortArrar=function(t){for(var e=t.length,n=0;e>n;n++)for(var o=n+1;e>o;o++){var i=t[n];t[n]=t[o],t[o]=i}},e.randomSort=function(e){for(var n=e.length,o=0;n>o;o++)this.swap(e,o,t.NumberTool.getRandomInt(0,n-1))},e.swap=function(t,e,n){var o=t[e];t[e]=t[n],t[n]=o},e.uniq=function(t){for(var e=[],n=0;n<t.length;n++)t.indexOf(t[n])==n&&e.push(t[n]);return e},e}();t.ArrayTool=e,__reflect(e.prototype,"commonUtils.ArrayTool")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(t){function e(e,n){void 0===n&&(n=0);var o=t.call(this)||this;return o.delay=e,o.repeatCount=n,o}return __extends(e,t),e.prototype.start=function(){this.previous=egret.getTimer(),this.accTime=0,egret.startTick(this.update,this)},e.prototype.reset=function(){this.previous=egret.getTimer(),this.accTime=0,this.currentCount=0},e.prototype.stop=function(){egret.stopTick(this.update,this)},e.prototype.update=function(){for(this.curTime=egret.getTimer(),this.passTime=this.curTime-this.previous,this.previous=this.curTime,this.accTime+=this.passTime;this.accTime>=this.delay;)this.accTime-=this.delay,this.currentCount++,this.repeatCount>0&&this.currentCount==this.repeatCount&&(this.dispatchEvent(new egret.TimerEvent(egret.TimerEvent.TIMER_COMPLETE)),this.stop()),this.dispatchEvent(new egret.TimerEvent(egret.TimerEvent.TIMER));return!1},e}(egret.EventDispatcher);t.DateTimerTool=e,__reflect(e.prototype,"commonUtils.DateTimerTool")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(){function e(){}return e.getDate=function(){return e._currentDates.length>0?e._currentDates.shift():new Date},e.pullDate=function(t){e._currentDates.push(t)},e.formatDate=function(t){var e=new Date(1e3*parseInt(t)),n=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();return n},e.forObliqueDate=function(t){var e=new Date(1e3*parseInt(t)),n=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();return n},e.formatData1=function(e){var n=new Date(1e3*parseInt(e)),o=n.getFullYear()+"-"+t.DateTool.zeroShow(n.getMonth()+1)+"-"+t.DateTool.zeroShow(n.getDate());return o},e.formatData2=function(e){var n=new Date(1e3*parseInt(e)),o=t.DateTool.zeroShow(n.getHours())+":"+t.DateTool.zeroShow(n.getMinutes())+":"+t.DateTool.zeroShow(n.getSeconds());return o},e.zeroShow=function(t){return t>9?""+t:"0"+t},e.formatClock=function(t){var e;if(60>t)e=10>t?"00:0"+t:"00:"+t;else{var n=Math.floor(t/60),o=Math.floor(t%60);10>n&&(e=10>o?"0"+n+":0"+o:"0"+n+":"+o),n>=10&&60>n&&(e=10>o?n+":0"+o:n+":"+o),0==n&&(e=10>o?"00:0"+o:"00:"+o)}return e},e.formatThreeDateStr=function(t){var n=e.getDate();n.setTime(1e3*t);var o=new Date,i="",r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),s=new Date(o.getFullYear(),o.getMonth(),o.getDate()),a=(r.getTime()-s.getTime())/1e3/60/60/24;return-1>a?(i="前天 "+(n.getHours()>9?n.getHours():"0"+n.getHours())+":"+(n.getMinutes()>9?n.getMinutes():"0"+n.getMinutes()),e.pullDate(n),e.pullDate(o),i):0>a?(i="昨天 "+(n.getHours()>9?n.getHours():"0"+n.getHours())+":"+(n.getMinutes()>9?n.getMinutes():"0"+n.getMinutes()),e.pullDate(n),e.pullDate(o),i):0==a?(i="今天 "+(n.getHours()>9?n.getHours():"0"+n.getHours())+":"+(n.getMinutes()>9?n.getMinutes():"0"+n.getMinutes()),e.pullDate(n),e.pullDate(o),i):(console.log("当前时间小于往期时间"),i=""+(n.getMonth()+1>9?n.getMonth()+1:"0"+(n.getMonth()+1))+"-"+(n.getDate()>9?n.getDate():"0"+n.getDate())+" "+(n.getHours()>9?n.getHours():"0"+n.getHours())+":"+(n.getMinutes()>9?n.getMinutes():"0"+n.getMinutes()),e.pullDate(n),e.pullDate(o),i)},e._currentDates=[],e}();t.DateTool=e,__reflect(e.prototype,"commonUtils.DateTool")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(){function e(){}return e.getInstance=function(){return e.instance_||(e.instance_=new e),e.instance_},e.prototype.getIsWeb=function(){return egret.Capabilities.runtimeType==egret.RuntimeType.WEB},e.prototype.getIsNative=function(){return egret.Capabilities.runtimeType==egret.RuntimeType.NATIVE},e.prototype.getisMobile=function(){return egret.Capabilities.isMobile},e.prototype.getIsIos=function(){return"iOS"==egret.Capabilities.os},e.prototype.getIsAndroid=function(){return"Android"==egret.Capabilities.os},e.prototype.getIsUCBrowser=function(){return this.getIsWeb()&&navigator.userAgent.indexOf("UCBrowser")>-1?!0:!1},e.prototype.getISQQBrower=function(){return this.getIsWeb()&&navigator.userAgent.indexOf("qq")>-1?!0:!1},e.prototype.getIsIpad=function(){return-1!=navigator.userAgent.indexOf("iPad")?!0:!1},e.prototype.getIsIPhoneX=function(){var e;return e=t.StageUtils.getIntance().defaultOrientation==egret.OrientationMode.PORTRAIT?egret.Capabilities.boundingClientHeight/egret.Capabilities.boundingClientWidth:egret.Capabilities.boundingClientWidth/egret.Capabilities.boundingClientHeight,e>=2?!0:!1},e}();t.DeviceUtils=e,__reflect(e.prototype,"commonUtils.DeviceUtils")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(){function t(){}return t.drawLine=function(t,e,n,o,i){return void 0===o&&(o=10),void 0===i&&(i=16777215),t.graphics.clear(),t.graphics.lineStyle(20,16777215),t.graphics.moveTo(e.x,e.y),t.graphics.lineTo(n.x,n.y),t.graphics.endFill(),t},t}();t.DrawUtil=e,__reflect(e.prototype,"commonUtils.DrawUtil")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){function e(t,e){void 0===e&&(e=1e3);var n=t.y,o=new Date,i=o.getSeconds();egret.Tween.get(t).wait(200).to({y:n-100,alpha:.5},2e3).call(function(){var e=new Date,n=e.getSeconds(),o=n-i;console.log("tips显示时间="+o),t.parent&&t.parent.removeChild(t)})}t.showFload=e}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(){function t(){this.eventList={}}return t.getIntance=function(){return t.instance_||(t.instance_=new t),t.instance_},t.prototype.sendEvent=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=this.eventList[t];if(null!=o)for(var i,r,s=0;s<o.length;s++){var a=o[s];i=a[0],r=a[1],i.apply(r,e)}},t.prototype.addEvent=function(t,e,n){var o=this.eventList[t];if(null==o)o=[],this.eventList[t]=o;else for(var i=o.length,r=0;i>r;r++)if(o[r][0]==e&&o[r][1]==n)return;o.push([e,n])},t.prototype.removeEvent=function(t,e,n){var o=this.eventList[t];if(null!=o)for(var i=o.length,r=i-1;r>=0;r--)o[r][0]==e&&o[r][1]==n&&o.splice(r,1);o&&0==o.length&&(this.eventList[t]=null,delete this.eventList[t])},t}();t.EventMananger=e,__reflect(e.prototype,"commonUtils.EventMananger")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(){function t(){}return t.asyncComeSomeFunc=function(t){var e=new Promise(function(e){t()});return e},t.asyncComeSomeObjFunc=function(t,e){var n=new Promise(function(n){t.call(t,e)});return n},t}();t.FunctionUtil=e,__reflect(e.prototype,"commonUtils.FunctionUtil")}(commonUtils||(commonUtils={}));var viewTool;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return commonUtils.StageUtils.getIntance().stage.getChildByName("tipsContent")||commonUtils.StageUtils.getIntance().stage.addChild(e),e.lablePool=commonUtils.ObjectPool.getPool("viewTool.TipsObj"),e.name="tipsContent",e.touchEnabled=e.touchChildren=!1,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.addStageCall,e),e}return __extends(e,t),e.getIntance=function(){return e.instance_||(e.instance_=new e),e.instance_},e.prototype.addStageCall=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStageCall,this),this.verticalCenter=this.horizontalCenter=0},Object.defineProperty(e.prototype,"showTipsAnimationType",{get:function(){return this.showTipsAnimationType_},set:function(t){this.showTipsAnimationType_=t},enumerable:!0,configurable:!0}),e.prototype.showTip=function(t){var e=this,n=this.lablePool.getOneObj();n.initShow(t),this.addChild(n),egret.Tween.get(n).to({alpha:0,verticalCenter:-100},2e3).call(function(){egret.Tween.removeTweens(n),n.parent&&(n.parent.removeChild(n),e.lablePool.recoveryObj(n))})},e}(eui.UILayer);t.TipsUtil=e,__reflect(e.prototype,"viewTool.TipsUtil");var n=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initShow=function(t){this.alpha=1,this.msgLabel||(this.msgLabel=new eui.Label,this.msgLabel.textColor=16777215,this.msgLabel.textAlign="center",this.msgLabel.verticalAlign="middle",this.msgLabel.size=24),this.msgLabel.text=t;var e=t.length*this.msgLabel.size+20;e=e>commonUtils.StageUtils.getIntance().stage.stageWidth-100?commonUtils.StageUtils.getIntance().stage.stageWidth-100:e,this.msgLabel.width=e,this.msgLabel.height=(Math.floor(t.length/Math.floor(e/this.msgLabel.size))+1)*this.msgLabel.size,this.width=e,this.height=this.msgLabel.height,this.rectM||(this.rectM=new eui.Rect,this.rectM.fillColor=0,this.rectM.alpha=.75,this.rectM.ellipseWidth=20),this.addChild(this.rectM),this.rectM.left=this.rectM.top=this.rectM.right=this.rectM.bottom=0,this.addChild(this.msgLabel),this.msgLabel.horizontalCenter=0,this.msgLabel.verticalCenter=0,this.horizontalCenter=0,this.verticalCenter=50},e}(eui.Group);t.TipsObj=n,__reflect(n.prototype,"viewTool.TipsObj")}(viewTool||(viewTool={}));var commonUtils;!function(t){var e=function(){function e(){}return e.loadImage=function(t,e,n){egret.ImageLoader.crossOrigin="anonymous";var o=function(t){e.call(n,t)};if(RES.hasRes(t)){var i=RES.getRes(t);i?o(i):RES.getResAsync(t,o,this)}else{var r=this.imagePool.getOneObj(),s=function(t){r.removeEventListener(egret.Event.COMPLETE,s,this);var o=t.currentTarget,i=new egret.Texture;i._setBitmapData(o.data),e.call(n,i)};r.addEventListener(egret.Event.COMPLETE,s,r),r.load(t)}},e.imagePool=t.ObjectPool.getPool("egret.ImageLoader"),e}();t.ImageTools=e,__reflect(e.prototype,"commonUtils.ImageTools")}(commonUtils||(commonUtils={}));var util;!function(t){var e=function(){function t(){}return t.LoadJsonRes=function(t){return RES.getRes(t)},t.LoadJsRes=function(t,e){try{var n=document.createElement("script");n.async=!1,n.src=t,n.addEventListener("load",function(){n.parentNode.removeChild(n),e()},!1),document.body.appendChild(n)}catch(o){console.log("document 不可用-->"+o)}},t}();t.LoadSomeUtil=e,__reflect(e.prototype,"util.LoadSomeUtil")}(util||(util={}));var commonUtils;!function(t){var e=function(){function t(){}return t.getIntance=function(){return t.instance_||(t.instance_=new t),t.instance_},Object.defineProperty(t.prototype,"allowMusic",{get:function(){var t=this.loadItem("allowMusic");return null==t&&(this.allowMusic=!0,t="1"),!!parseInt(t)},set:function(t){this.saveItem("allowMusic",t?"1":"0")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowEffect",{get:function(){var t=this.loadItem("allowEffect");return null==t&&(this.allowEffect=!0,t="1"),!!parseInt(t)},set:function(t){this.saveItem("allowEffect",t?"1":"0")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoVoice",{get:function(){var t=this.loadItem("autoVoice");return null==t&&(this.autoVoice=!0,t="1"),!!parseInt(t)},set:function(t){this.saveItem("autoVoice",t?"1":"0")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"guest",{get:function(){var t=this.loadItem("guest");return null==t&&(this.guest=t),t},set:function(t){t&&""!=t&&this.saveItem("guest",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"account",{get:function(){var t=this.loadItem("account");return null==t&&(this.account=t),t},set:function(t){this.saveItem("account",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nickName",{get:function(){var t=this.loadItem("nickName");return null==t&&(this.nickName=t),t},set:function(t){t&&""!=t&&this.saveItem("nickName",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"username",{get:function(){var t=this.loadItem("username");return null==t&&(this.username=t),t},set:function(t){t&&""!=t&&this.saveItem("username",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"password",{set:function(t){this.saveItem("password",t)},enumerable:!0,configurable:!0}),t.prototype.getPassword=function(){var t=this.loadItem("password");return null==t&&(this.password=t),t},Object.defineProperty(t.prototype,"telGuide",{get:function(){var t=this.loadItem("telGuide");return null==t&&(this.telGuide=t),t},set:function(t){t&&""!=t&&this.saveItem("telGuide",t)},enumerable:!0,configurable:!0}),t.prototype.saveItem=function(t,e){t&&egret.localStorage.setItem(t,e)
},t.prototype.loadItem=function(t){return t?egret.localStorage.getItem(t):void 0},t}();t.LocalStorageUtil=e,__reflect(e.prototype,"commonUtils.LocalStorageUtil")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(){function t(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),this.shield=!1,this.shield=t,e&&(this.oldLog=console,console=this)}return t.getInstance=function(e,n){return void 0===e&&(e=!0),void 0===n&&(n=!0),t.instance_||(t.instance_=new t(e,n)),t.instance_},t.prototype.setShield=function(t){void 0===t&&(t=!0),this.shield=t},t.prototype.assert=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o]},t.prototype.clear=function(){},t.prototype.count=function(t){},t.prototype.debug=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.dir=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.dirxml=function(t){},t.prototype.error=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.exception=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.group=function(t){},t.prototype.groupCollapsed=function(t){},t.prototype.groupEnd=function(){},t.prototype.info=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this.shield){var o=new Date;this.oldLog.log("["+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()+"]:"+t)}},t.prototype.msIsIndependentlyComposed=function(t){return!1},t.prototype.profile=function(t){},t.prototype.profileEnd=function(){},t.prototype.select=function(t){},t.prototype.table=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.time=function(t){},t.prototype.timeEnd=function(t){},t.prototype.trace=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.warn=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t}();t.LogICT=e,__reflect(e.prototype,"commonUtils.LogICT",["Console"])}(commonUtils||(commonUtils={}));var util;!function(t){var e=function(){function t(){this.keys=[],this.values=[]}return Object.defineProperty(t.prototype,"Size",{get:function(){return this.keys.length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){var t="";if(null==this.keys||void 0==this.keys)t="this is null";else{t+="{";for(var e=0,n=this.keys.length;n>e;e++){var o="{key:"+this.keys[e]+",";o+="value:"+this.values[e]+"}",t+=o,n-1>e&&(t+=",")}t+="}"}return t},t.prototype.keyArray=function(){return this.keys},t.prototype.valueArray=function(){return this.values},t.prototype.containsKey=function(t){if(this.keys){var e=this.keys.indexOf(t);if(e>-1)return this.keys[e]}return null},t.prototype.isEmpty=function(){return this.keys?!1:!0},t.prototype.put=function(t,e){t&&(t&&null==this.keys&&(this.keys=[],this.values=[]),this.keys.push(t),this.values.push(e))},t.prototype.get=function(t){if(this.keys){var e=this.keys.indexOf(t);return e>-1?this.values[e]:null}return null},t.prototype.remove=function(t){if(this.keys){var e=this.keys.indexOf(t);if(e>-1){var n=this.values[e];return this.keys.splice(e,1),this.values.splice(e,1),n}return null}return null},t.prototype.removeAll=function(){this.keys=[],this.values=[]},t}();t.Map=e,__reflect(e.prototype,"util.Map")}(util||(util={}));var commonUtils;!function(t){var e=function(){function t(){}return t.getRandomInt=function(t,e){return Math.round(Math.random()*(e-t))+t},t.formatCapital=function(t){return 0>=t||t>=10?"":["一","二","三","四","五","六","七","八","九"][t-1]},t.formatMoney=function(t){return t>=1e4||-1e4>=t?Math.round(t/100)/100+"万":t+""},t.getSoceNumberStr=function(t){var e=t,n=0,o=function(t){return t/1e3>1?(t=Math.floor(t/10),n++,o(t)):t},i=["K","M","B","T"];return e=o(e),n>0?e+"."+i[n-1]:e+""},t.getSoceNumberStrType_K=function(t){return t>9999?(t/=1e3,t=Math.floor(t),t+"K"):t+""},t.getThreeTypeNumberStr=function(e){var n="",o=function(e){return e/1e3>1?(n=","+t.getThreeNumStr(e%1e3)+n,e=Math.floor(e/1e3),o(e)):n=e+n};return o(e)},t.getThreeNumStr=function(t){return t>99?t+"":t>9?"0"+t:"00"+t},t.showSomeLableAddNumberAnimation=function(e,n,o,i,r){if(void 0===i&&(i=1e3),void 0===r&&(r=0),e.currentNum=o,void 0==o||n==o)return void(1==r?e.text=t.getSoceNumberStrType_K(n)+"":e.text=n+"");console.log(n+"-->"+o);var s=[n],a=Math.floor((o-n)/10);a=o-n>0?0==a?1:a:0==a?-1:a;for(var l=1;10>l;l++){var c=Math.floor(n+l*a);if(c==o-1)break;s.push(c)}s.push(o);var u=0;try{egret.Tween.removeTweens(e)}catch(h){}var g=i/10;g=Math.floor(g),g=100>g?100:g,console.log("durTime->"+g),egret.Tween.get(e).to({scaleX:1.3,scaleY:1.3},200),egret.Tween.get(e,{loop:!0}).wait(g).call(function(){return u++,u==s.length?(1==r?e.text=t.getSoceNumberStrType_K(o)+"":e.text=o+"",egret.Tween.removeTweens(e),egret.Tween.get(e).to({scaleX:1,scaleY:1},200).call(function(){egret.Tween.removeTweens(e)}),s=null,g=null,u=null,void(a=null)):void(1==r?e.text=t.getSoceNumberStrType_K(s[u])+"":e.text=s[u]+"")},e)},t.getShowTime=function(t){var e="",n=Math.floor(t/60);e=n/10>=1?""+n:"0"+n;var o="";n>0&&(t-=60*n);var i=t;return o=i/10>=1?""+i:"0"+i,e+":"+o},t.getShowTimeTwo=function(t){var e="",n=Math.floor(t/3600);e=n/10>=1?""+n:"0"+n,n>0&&(t-=3600*n);var o="",i=Math.floor(t/60);o=i/10>=1?""+i:"0"+i,i>0&&(t-=60*i);var r="",s=t;return r=s/10>=1?""+s:"0"+s,e+":"+o+":"+r},t.getShowTimeThree=function(t){var e="",n=t/86400;n=Math.floor(n),n>=1&&(t-=86400*n);var o=t/3600;o=Math.floor(o),o>=1&&(t-=3600*o);var i=t/60;return i=Math.floor(i),i>=1&&(t-=60*i),e=n+"天"+o+"时"+i+"分"+t+"秒"},t}();t.NumberTool=e,__reflect(e.prototype,"commonUtils.NumberTool")}(commonUtils||(commonUtils={}));var baseContent;!function(t){var e=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n.recData=e,n.addEventListener(egret.Event.ADDED_TO_STAGE,n.addStageCall,n),n}return __extends(e,t),e.prototype.addStageCall=function(){commonUtils.StageUtils.getIntance().showFullSomeToStage(this),this.enable()},e.prototype.removeUs=function(){this.parent&&this.parent.removeChild(this)},e.prototype.enable=function(){},e.prototype.destroy=function(){var t=this;this.removeEventListener(egret.Event.ADDED_TO_STAGE,t.addStageCall,t)},e}(eui.Component);t.BaseLoading=e,__reflect(e.prototype,"baseContent.BaseLoading")}(baseContent||(baseContent={}));var commonUtils;!function(t){var e=function(){function e(t){this.className=t,this.list=[]}return e.prototype.getObject=function(){if(this.list.length>0)return this.list.shift();var t=egret.getDefinitionByName(this.className);return new t},e.prototype.returnObject=function(t){this.list.push(t)},e.getPool=function(e,n){if(void 0===n&&(n=0),!t.ObjectPoolTool.pool[e]&&(t.ObjectPoolTool.pool[e]=new t.ObjectPoolTool(e),0!=n))for(var o=egret.getDefinitionByName(e),i=t.ObjectPoolTool.pool[e],r=0;n>r;r++)i.returnObject(new o);return t.ObjectPoolTool.pool[e]},e.pool={},e}();t.ObjectPoolTool=e,__reflect(e.prototype,"commonUtils.ObjectPoolTool")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(){function e(){}return e.getOneObjectTools=function(n){return e.tools_[""+n]||(e.tools_[""+n]=t.ObjectPool.getPool(n)),e.tools_[""+n]},e.destroy=function(){e.tools_=null,e.tools_={}},e.tools_={},e}();t.ObjectToolsMgr=e,__reflect(e.prototype,"commonUtils.ObjectToolsMgr")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(){function e(){}return e.objectToParams=function(t,e){void 0===e&&(e=!1);var n="";for(var o in t)if(o){var i="object"==typeof t[o]?JSON.stringify(t[o]):t[o];n+=n?"&"+o+"="+i:o+"="+i}return e&&(n=encodeURIComponent(n)),n},e.getObjectLength=function(t){var e=0;for(var n in t)e++;return e},e.deepCopy=function(e){var n;if("object"==typeof e)if(null===e)n=null;else if(void 0==e)n=void 0;else if(e instanceof Array){n=[];for(var o=0;o<e.length;o++)n.push(t.ObjTool.deepCopy(e[o]))}else{n={};for(var i in e)n[i]=t.ObjTool.deepCopy(e[i])}else n=e;return n},e}();t.ObjTool=e,__reflect(e.prototype,"commonUtils.ObjTool")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(){function e(t){void 0===t&&(t={res_version:"",lib_version:"",main_version:""}),this.resConfig=t,this.initResVersion(),this.groupList=new Array,this.configList=new Array,RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceLoadProgress,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this)}return e.getInstance=function(t){return void 0===t&&(t={res_version:"",lib_version:"",main_version:""}),e.instance_||(e.instance_=new e(t)),e.instance_},e.prototype.initResVersion=function(){this.resConfig&&this.resConfig.res_version&&""!=this.resConfig.res_version},e.prototype.setResConfig=function(t){this.resConfig=t},e.prototype.addConfig=function(t,e){this.configList.push([t,e])},e.prototype.loadConfig=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.onConfigComplete=t,this.onConfigCompleteTarget=e,this.loadNextConfig()},e.prototype.loadNextConfig=function(){if(0==this.configList.length)return void(this.onConfigComplete&&this.onConfigCompleteTarget&&(this.onConfigComplete.call(this.onConfigCompleteTarget),this.onConfigComplete=null,this.onConfigCompleteTarget=null));var t=this.configList.shift();RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),RES.loadConfig(t[0],t[1])},e.prototype.onConfigCompleteHandle=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),e.getInstance().loadNextConfig()},e.prototype.loadGroupByGrpArr=function(t,e,n,o,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=1);var r=this.combGroupName(t);this.groupList[r]=[n,e,o],RES.loadGroup(r,i),console.log("加载组资源-》"+r)},e.prototype.onResourceLoadComplete=function(t){var n=t.groupName;if(console.log("加载资源组完成:",n),e.getInstance().groupList[n]){var o=e.getInstance().groupList[n][0],i=e.getInstance().groupList[n][2];null!=o&&null!=i&&o.call(i),e.getInstance().deleteCallBack(n)}},e.prototype.onResourceLoadProgress=function(t){var n=t.groupName;if(e.getInstance().groupList[n]){var o=e.getInstance().groupList[n][1],i=e.getInstance().groupList[n][2];null!=o&&null!=i&&o.call(i,t)}},e.prototype.onResourceLoadError=function(t){viewTool.TipsUtil.getIntance().showTip(t.groupName+"资源组加载失败"+t.target)},e.prototype.isGroupLoaded=function(t){return RES.isGroupLoaded(t)},e.prototype.deleteCallBack=function(t){console.log("取消加载资源组回调:"+t),e.getInstance().groupList[t]=null,delete e.getInstance().groupList[t]},e.prototype.deleteAllCallBack=function(){for(var t in e.getInstance().groupList)e.getInstance().deleteCallBack(t)},e.prototype.destroyOneGrp=function(t){RES.destroyRes(t)},e.prototype.combGroupName=function(t){var e="";if("string"==typeof t)e=t;else{for(var n=t.length,o=0;n>o;o++)e+="->"+t[o];RES.createGroup(e,t)}return e},e.prototype.setMaxLoadingThe=function(t){void 0===t&&(t=3),RES.setMaxLoadingThread(t)},e.prototype.loadTheme=function(e,n){var o=this;return new Promise(function(i,r){var s;s=egret.Capabilities.runtimeType==egret.RuntimeType.WXGAME?new eui.Theme(n+e+".thm.json?v="+t.VersionUtils.getIntance().Version,t.StageUtils.getIntance().stage):new eui.Theme("resource/"+e+".thm.json?v="+t.VersionUtils.getIntance().Version,t.StageUtils.getIntance().stage),s.addEventListener(eui.UIEvent.COMPLETE,function(){i("皮肤加载完成!"+e)},o)})},e}();t.ResUtils=e,__reflect(e.prototype,"commonUtils.ResUtils")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(){function t(){this.defaultSize={width:1280,height:720},this.defaultOrientation=egret.OrientationMode.LANDSCAPE}return t.getIntance=function(){return t.instance_||(t.instance_=new t),t.instance_},t.prototype.getStageWidth=function(){return this.screenConfig.width},t.prototype.getStageHeight=function(){return this.screenConfig.height},t.prototype.fitScreen=function(){if(this.defaultOrientation==egret.OrientationMode.PORTRAIT){var t=egret.Capabilities.boundingClientHeight/egret.Capabilities.boundingClientWidth;if(console.log("屏幕size="+egret.Capabilities.boundingClientHeight+":"+egret.Capabilities.boundingClientWidth),console.log("屏幕比率="+t),!egret.Capabilities.isMobile)return this.stage.scaleMode=egret.StageScaleMode.SHOW_ALL,void(this.screenConfig=this.defaultSize);t>2340/1080?this.stage.scaleMode=egret.StageScaleMode.SHOW_ALL:1366/1024>=t?this.stage.scaleMode=egret.StageScaleMode.FIXED_HEIGHT:this.stage.scaleMode=egret.StageScaleMode.FIXED_WIDTH}else{var t=egret.Capabilities.boundingClientWidth/egret.Capabilities.boundingClientHeight;if(console.log("屏幕比率="+t),!egret.Capabilities.isMobile)return this.stage.scaleMode=egret.StageScaleMode.SHOW_ALL,void(this.screenConfig=this.defaultSize);t>2436/1125||4/3>t?this.stage.scaleMode=egret.StageScaleMode.SHOW_ALL:t>=2?this.stage.scaleMode=egret.StageScaleMode.FIXED_HEIGHT:this.stage.scaleMode=egret.StageScaleMode.FIXED_WIDTH}this.stage.orientation=this.defaultOrientation,this.screenConfig={width:this.stage.stageWidth,height:this.stage.stageHeight},console.log("size->"+JSON.stringify(this.screenConfig))},t.prototype.fitBgIPhoneX=function(t){},t.prototype.showFullSomeToStage=function(t){t.parent?(t.width=this.getStageWidth(),t.height=this.getStageHeight()):console.log("Please call it on the stage!")},t.prototype.showMaxSomeToStage=function(t,e,n){void 0===e&&(e=this.defaultOrientation==egret.OrientationMode.PORTRAIT?720:1280),void 0===n&&(n=this.defaultOrientation==egret.OrientationMode.PORTRAIT?1280:720);var o=this.getStageWidth()/e,i=this.getStageHeight()/n;o>i?t.scaleX=t.scaleY=o:t.scaleX=t.scaleY=i},t.prototype.showMinSomeToStage=function(t,e,n){void 0===e&&(e=this.defaultOrientation==egret.OrientationMode.PORTRAIT?720:1280),void 0===n&&(n=this.defaultOrientation==egret.OrientationMode.PORTRAIT?1280:720);var o=this.getStageWidth()/e,i=this.getStageHeight()/n;i>o?t.scaleX=t.scaleY=o:t.scaleX=t.scaleY=i},t.prototype.shakingScreen=function(t,e,n){if(void 0===t&&(t=100),void 0===e&&(e=2),void 0===n&&(n=10),this.stage){var o=0,i=this.stage.getChildByName("AppContent");egret.Tween.get(i,{loop:!0}).to({x:n,y:-n},t/4).to({x:-n,y:n},t/2).to({x:0,y:0},t/4).call(function(){o++,o==e&&egret.Tween.removeTweens(i)},i)}},t}();t.StageUtils=e,__reflect(e.prototype,"commonUtils.StageUtils")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(){function t(){}return t.formateWrap=function(t,e){var n="",o=Math.ceil(t.length/e);if(o>1)for(var i=0;o>i;i++)n+=o-1>i?t.substr(i*e,e)+"\n":t.substr(i*e,t.length);else n=t;return n},t.trim=function(t,e){void 0===e&&(e=!1);var n=t.replace(/(^\s+)|(\s+$)/g,"");return e&&(n=n.replace(/\s/g,"")),n},t.prototype.find=function(t,e,n){for(var o=t.indexOf(e),i=n-1,r=0;i>r;r++)o=t.indexOf(e,o+1);return o},t.formatStrLen=function(t,e){void 0===e&&(e=10);var n=this.getStrLength(t);return n>e?t.substr(0,Math.round(e/2)-1)+"...":t},t.getStrLength=function(t){for(var e=0,n=0,o=0;o<t.length;o++)n=t.charCodeAt(o),n>127||n>=65&&90>=n?e+=2:e++;return e},t.getStrByThreeNum=function(t){var e="",n=function(t){if(t/1e3>1){var o=t%1e3;e=10>o?",00"+o+e:100>o?",0"+o+e:","+o+e,t=Math.floor(t/1e3),n(t)}else e=t+e};return n(t),e},t.copySome=function(t,e,n){if(egret.Capabilities.runtimeType==egret.RuntimeType.WEB){var o=document.createElement("input");return document.body.appendChild(o),o.setAttribute("value",t),o.select(),document.execCommand("copy")&&(document.execCommand("copy"),console.log("复制成功"),e()),void document.body.removeChild(o)}egret.Capabilities.runtimeType==egret.RuntimeType.WXGAME&&n.setClipboardData({data:t,success:e,fail:function(){console.log("wx copy failed")}})},t.showSomeTextByNumber=function(t){return 1e4>t?t+"":1e8>t?Math.floor(t/1e4)+"万":Math.floor(t/1e8)+"亿"},t.getStrByte=function(t){var e=new egret.ByteArray;return e.writeUTFBytes(t),e.length},t.getShortStrAtByte=function(t,e){var n=new egret.ByteArray;return n.writeUTFBytes(t),n.length<e?t:(n.position=0,n.readUTFBytes(e)+"...")},t.parsePerentToNum=function(t){return t.indexOf("%")<0?(console.error("转换非百分数"),null):parseInt(t)/100},t}();t.StringTool=e,__reflect(e.prototype,"commonUtils.StringTool")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(){function t(){}return t.getSomeTimeOfLastTimeNum=function(e){t.timeData=new Date;var n=e-t.timeData.getTime();return 0>n?0:n},t}();t.TimeUtil=e,__reflect(e.prototype,"commonUtils.TimeUtil")}(commonUtils||(commonUtils={}));var commonUtils;!function(t){var e=function(){function t(){this.version="v1.0.0"}return t.getIntance=function(){return t.instance_||(t.instance_=new t),t.instance_},Object.defineProperty(t.prototype,"Version",{get:function(){return this.version},set:function(t){this.version=t},enumerable:!0,configurable:!0}),t}();t.VersionUtils=e,__reflect(e.prototype,"commonUtils.VersionUtils")}(commonUtils||(commonUtils={}));var confD;!function(t){var e=function(){function t(){}return t}();t.GameFomLobbyConf=e,__reflect(e.prototype,"confD.GameFomLobbyConf")}(confD||(confD={}));var soundCom;!function(t){var e=function(){function t(){this._soundSelect=!0,this.soundPools={},this._bgVolume=.4,this._musicSelect=!0}return Object.defineProperty(t.prototype,"musicSelect",{get:function(){return this._musicSelect},set:function(t){this._musicSelect=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"soundConfig",{get:function(){return this.soundConfig_},set:function(t){this.soundConfig_=t,egret.localStorage.setItem("soundConfig",JSON.stringify(this.soundConfig_))},enumerable:!0,configurable:!0}),t.prototype.initSoundConfig=function(){if(!this.soundConfig_){var t=egret.localStorage.getItem("soundConfig");t?(t=JSON.parse(t),this.soundConfig_=t,this._soundSelect=this.soundConfig_.sound,this._musicSelect=this.soundConfig_.music):this.soundConfig_={music:!0,sound:!0,brd:!0}}},Object.defineProperty(t.prototype,"bgVolume",{get:function(){return this._bgVolume},set:function(t){this._bgVolume=t,this._bgSoundChanel&&(this._bgSoundChanel.volume=this._bgVolume)},enumerable:!0,configurable:!0}),t}();t.BaseGameSoundMgr=e,__reflect(e.prototype,"soundCom.BaseGameSoundMgr")}(soundCom||(soundCom={}));var soundCom;!function(t){var e=function(){function t(){this.sound=new egret.Sound,this.sound.addEventListener(egret.Event.COMPLETE,this.onLoadComplete,this)}return t.prototype.loadUrlPlay=function(t,e){void 0===e&&(e=-1),this.loop=e,this.tempUrl=t,this.urlKey!=t?this.sound.load(t):this.sound&&this.soundChanel&&(this.soundChanel=this.sound.play(0,this.loop))},t.prototype.play=function(t,e){void 0===e&&(e=-1),this.loop=e,this.tempUrl=t,this.urlKey!=t?(this.sound=RES.getRes(t),this.soundChanel=this.sound.play(0,this.loop)):this.sound&&this.soundChanel&&(this.soundChanel=this.sound.play(0,this.loop))},t.prototype.onLoadComplete=function(t){this.sound=t.target,this.urlKey=this.tempUrl,this.soundChanel=this.sound.play(0,this.loop),this.soundChanel.addEventListener(egret.Event.SOUND_COMPLETE,this.onSoundComplete,this)},t.prototype.onSoundComplete=function(t){egret.log("onSoundComplete")},t.prototype.destory=function(){this.sound=null,this.soundChanel=null,this.tempUrl=null,this.urlKey=null,this.loop=null},t}();t.CommonSound=e,__reflect(e.prototype,"soundCom.CommonSound")}(soundCom||(soundCom={}));var HashMap=function(){function t(){this.valueTools=[],this.keyTools=[]}return t.prototype.get=function(t){var e=this.keyTools.indexOf(t);return-1==e?null:this.valueTools[e]},t.prototype.set=function(t,e){var n=this.keyTools.indexOf(t);return-1!=n?void(this.valueTools[n]=e):(this.keyTools.push(t),void this.valueTools.push(e))},t.prototype.remove=function(t){var e=this.keyTools.indexOf(t),n=this.valueTools[e];return this.valueTools.splice(e,1),this.keyTools.splice(e,1),n},t.prototype.destroy=function(){this.keyTools=null,this.valueTools=null},t}();__reflect(HashMap.prototype,"HashMap");var Queue=function(){function t(){this.valueTools=[]}return t.prototype.pull=function(){return 0==this.valueTools.length?null:this.valueTools.shift()},t.prototype.put=function(t){this.valueTools.push(t)},t.prototype.destroy=function(){this.valueTools=null},Object.defineProperty(t.prototype,"size",{get:function(){return this.valueTools.length},enumerable:!0,configurable:!0}),t}();__reflect(Queue.prototype,"Queue");var viewTool;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.maxBarWidth=this.width,this.barImg.left&&(this.maxBarWidth-=2*this.barImg.left),this.minBarWidth=this.barImg.width-this.barImg.scale9Grid.width,this.offerBarWidth=this.maxBarWidth-this.minBarWidth},e.prototype.initDataShow=function(t,e){void 0===e&&(e=!1);var n=this;if(n.cacheAsBitmap=!1,n.config=t,n.config){if(0==t.per)return n.barImg.visible=!1,n.textShow.text=n.config.texts,void(n.cacheAsBitmap=!0);n.barImg.visible=!0,t.per=t.per>1?1:t.per;var o=Math.floor(n.maxBarWidth*n.config.per);o=o<n.minBarWidth?n.minBarWidth:o,e?egret.Tween.get(n.barImg).to({width:o},200,egret.Ease.sineIn):n.barImg.width=o,n.textShow.text=n.config.texts}n.cacheAsBitmap=!0},e}(eui.Component);t.BaseBar=e,__reflect(e.prototype,"viewTool.BaseBar")}(viewTool||(viewTool={}));var viewTool;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.btnScale_=.85,e.skinName="eui.Button",e.touchEnabled=!0,e.touchChildren=!1,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.addStageCall,e),e}return __extends(e,t),Object.defineProperty(e.prototype,"btnScale",{get:function(){return this.btnScale_},set:function(t){this.btnScale_=t},enumerable:!0,configurable:!0}),e.prototype.addStageCall=function(t){t.type==egret.Event.ADDED_TO_STAGE&&(this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStageCall,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchHandle,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchHandle,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.touchHandle,this))},e.prototype.touchHandle=function(t){switch(t.type){case egret.TouchEvent.TOUCH_BEGIN:this.scaleX=this.scaleY=this.btnScale_;break;default:this.scaleX=this.scaleY=1}},e.prototype.destroy=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.addStageCall,this),this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchHandle,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchHandle,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchHandle,this),this.btnScale_=null},e}(eui.Button);t.BaseCustomBtn=e,__reflect(e.prototype,"viewTool.BaseCustomBtn")}(viewTool||(viewTool={}));var viewTool;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.btnScale_=.85,e.touchEnabled=!0,e.touchChildren=!1,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.addStageCall,e),e}return __extends(e,t),Object.defineProperty(e.prototype,"btnScale",{get:function(){return this.btnScale_},set:function(t){this.btnScale_=t},enumerable:!0,configurable:!0}),e.prototype.addStageCall=function(t){t.type==egret.Event.ADDED_TO_STAGE&&(this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStageCall,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchHandle,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchHandle,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.touchHandle,this))},e.prototype.touchHandle=function(t){switch(t.type){case egret.TouchEvent.TOUCH_BEGIN:this.scaleX=this.scaleY=this.btnScale_;break;default:this.scaleX=this.scaleY=1}},e.prototype.destroy=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.addStageCall,this),this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchHandle,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchHandle,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchHandle,this),this.btnScale_=null},e}(eui.Group);t.BaseCustomGrp=e,__reflect(e.prototype,"viewTool.BaseCustomGrp")}(viewTool||(viewTool={}));var viewTool;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.btnScale_=.85,e.touchEnabled=!0,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.addStageCall,e),e}return __extends(e,t),Object.defineProperty(e.prototype,"btnScale",{get:function(){return this.btnScale_},set:function(t){this.btnScale_=t},enumerable:!0,configurable:!0}),e.prototype.addStageCall=function(t){t.type==egret.Event.ADDED_TO_STAGE&&(this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStageCall,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchHandle,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchHandle,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.touchHandle,this))},e.prototype.touchHandle=function(t){switch(t.type){case egret.TouchEvent.TOUCH_BEGIN:this.scaleX=this.scaleY=this.btnScale_;break;default:this.scaleX=this.scaleY=1}},e.prototype.destroy=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.addStageCall,this),this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchHandle,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchHandle,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchHandle,this),this.btnScale_=null},e}(eui.Image);t.BaseCustomImgBtn=e,__reflect(e.prototype,"viewTool.BaseCustomImgBtn")}(viewTool||(viewTool={}));var viewTool;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.gap_=18,e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.y=this.index_*(this.height+this.gap_),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.enable,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeStageCall,this),this.init()},e.prototype.enable=function(){this.horizontalCenter=-commonUtils.StageUtils.getIntance().stage.stageWidth,egret.Tween.get(this).to({horizontalCenter:0},150*this.index_,egret.Ease.sineIn),this.addEvent()},e.prototype.removeStageCall=function(){this.removeEvent()},e}(eui.ItemRenderer);t.BaseCustomPanelListItem=e,__reflect(e.prototype,"viewTool.BaseCustomPanelListItem")}(viewTool||(viewTool={}));var viewTool;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.config("dianji_mc_json","dianji_tex_png","dianjiAnim"),e}return __extends(e,t),e.prototype.onDianjiAnimComplete=function(t){this.destoryMe()},e.NAME="DianjiAnim",e}(baseContent.BaseMovieClip);t.ClickStageAnimation=e,__reflect(e.prototype,"viewTool.ClickStageAnimation")}(viewTool||(viewTool={}));var viewTool;!function(t){var e=function(){function t(){}return t.addCloseAnimation=function(t){egret.Tween.get(t,{loop:!0}).to({rotation:-7},500).to({rotation:0},400).to({rotation:7},500).to({rotation:0},400)},t.addSomePanelEnterAnimation=function(t,e,n,o,i,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=-1280),void 0===i&&(i=0),void 0===r&&(r=500),t.verticalCenter=o,egret.Tween.get(t).to({verticalCenter:i},r,egret.Ease.backOut).call(function(){egret.Tween.removeTweens(t),e&&e.call(n)})},t.addSomePanelOutAnimation=function(t,e,n,o,i,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=0),void 0===i&&(i=-1280),void 0===r&&(r=500),t.verticalCenter=o,egret.Tween.get(t).to({verticalCenter:i},r,egret.Ease.backOut).call(function(){egret.Tween.removeTweens(t),e&&e.call(n)})},t.getSomeDroBoneAnimation=function(t,e,n){var o=RES.getRes(t+"_ske_json"),i=RES.getRes(t+"_tex_json"),r=RES.getRes(t+"_tex_png"),s=dragonBones.EgretFactory.factory;s.parseDragonBonesData(o),s.parseTextureAtlasData(i,r);var a=s.buildArmatureDisplay(e,n);return a},t.showSomeConstrctionComplete=function(t){t.scaleY=.5,egret.Tween.get(t).to({scaleY:1},300,egret.Ease.bounceOut)},t}();t.GameSomeAnimationUitl=e,__reflect(e.prototype,"viewTool.GameSomeAnimationUitl")}(viewTool||(viewTool={}));var viewTool;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.images=[new eui.Image,new eui.Image,new eui.Image],e.skinName="PicAutoLoopModSkin",e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onEnable,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.onRemove,e),e}return __extends(e,t),e.prototype.onEnable=function(){this.imgScr.addEventListener(eui.UIEvent.CHANGE_START,this.changeStart,this),this.imgScr.addEventListener(eui.UIEvent.CHANGE_END,this.changeEnd,this)},e.prototype.onRemove=function(){this.imgScr.removeEventListener(eui.UIEvent.CHANGE_START,this.changeStart,this),this.imgScr.removeEventListener(eui.UIEvent.CHANGE_END,this.changeEnd,this)},e.prototype.setUI=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1),this.imageStrs=t,this.isAuto=e,this.imgScr.throwSpeed=0,this.imageID=0,this.imgScr.viewport.scrollH=this.width,this.setImgScr(),this.autoScroll()},e.prototype.setImgScr=function(){for(var t=0;3>t;t++){var e=this.images[t];1==t?e.source=this.imageStrs[this.imageID]:0==t?this.imageID-1<0?e.source=this.imageStrs[this.imageStrs.length-1]:e.source=this.imageStrs[this.imageID-1]:this.imageID+1>=this.imageStrs.length?e.source=this.imageStrs[0]:e.source=this.imageStrs[this.imageID+1],0==e.height&&(e.x=t*this.width,e.y=0,e.width=this.width,e.height=this.height,this.imgGro.addChild(e))}},e.prototype.autoScroll=function(){var t=this;this.isAuto&&egret.Tween.get(this.imgScr.viewport).wait(3e3).call(function(){var e=t.imgScr.viewport.scrollH+t.width;t.scrollToTarget(e,!0)},this)},e.prototype.radioChang=function(){this.radioGro.getChildAt(this.imageID).selected=!0},e.prototype.scrollToTarget=function(t,e){var n=this;void 0===t&&(t=0),void 0===e&&(e=!1),egret.Tween.removeTweens(this.imgScr.viewport),this.imgScr.removeEventListener(eui.UIEvent.CHANGE_START,this.changeStart,this),this.imgScr.removeEventListener(eui.UIEvent.CHANGE_END,this.changeEnd,this);var o=300*Math.abs(t-this.imgScr.viewport.scrollH)/this.width;egret.Tween.get(this.imgScr.viewport).to({scrollH:t},o).call(function(){n.imgScr.addEventListener(eui.UIEvent.CHANGE_START,n.changeStart,n),n.imgScr.addEventListener(eui.UIEvent.CHANGE_END,n.changeEnd,n),n.autoScroll(),0==t?(n.imageID--,n.imageID<0&&(n.imageID=n.imageStrs.length-1)):(n.imageID++,n.imageID>n.imageStrs.length-1&&(n.imageID=0)),n.imgScr.viewport.scrollH=n.width,n.setImgScr(),e&&n.radioChang()},this)},e.prototype.changeStart=function(){this.imgScr.removeEventListener(eui.UIEvent.CHANGE_START,this.changeStart,this),this.scrollStartTime=egret.getTimer(),this.scrollStartH=this.imgScr.viewport.scrollH},e.prototype.changeEnd=function(){this.imgScr.addEventListener(eui.UIEvent.CHANGE_START,this.changeStart,this),this.scrollEndTime=egret.getTimer(),this.scrollEndH=this.imgScr.viewport.scrollH,this.judgeScroll()},e.prototype.judgeScroll=function(){var t=0,e=this.scrollEndH-this.scrollStartH,n=e/(this.scrollEndTime-this.scrollStartTime)*1e3;t=Math.abs(e)>=this.width/2?e>0?2*this.width:0:Math.abs(n)>=this.width/2?n>0?2*this.width:0:this.scrollStartH,this.scrollToTarget(t,!0)},e}(eui.Component);t.PicAutoLoopMod=e,__reflect(e.prototype,"viewTool.PicAutoLoopMod")}(viewTool||(viewTool={}));var baseContent;!function(t){var e=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n.recData=e,n.addEventListener(egret.Event.ADDED_TO_STAGE,n.addStageCall,n),n}return __extends(e,t),e.prototype.addStageCall=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStageCall,this),commonUtils.StageUtils.getIntance().showFullSomeToStage(this)},e.prototype.removeUs=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);t.BaseBufferView=e,__reflect(e.prototype,"baseContent.BaseBufferView")}(baseContent||(baseContent={}));;window.baseContent = baseContent;window.net = net;window.commonUtils = commonUtils;window.confD = confD;window.soundCom = soundCom;window.viewTool = viewTool;window.HashMap = HashMap;window.Queue = Queue